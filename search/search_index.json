{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"TrueLedger Documentation","text":"<p>Welcome to the TrueLedger documentation! TrueLedger is a privacy-first, offline-first personal finance tracker with AI-powered insights.</p>"},{"location":"#live-web-demo","title":"\ud83c\udf10 Live Web Demo","text":""},{"location":"#key-features","title":"\ud83c\udf1f Key Features","text":"<ul> <li>\ud83d\udcb0 Complete Financial Tracking: Track income, expenses, budgets, and saving goals</li> <li>\ud83e\udd16 AI-Powered Insights: Get intelligent forecasts and personalized financial advice</li> <li>\ud83d\udd12 Privacy First: All data stored locally with optional encryption (View Policy)</li> <li>\ud83d\udcca Beautiful Analytics: Visualize your financial health with interactive charts</li> <li>\ud83c\udf19 Modern UI: Dark mode, smooth animations, and premium design</li> <li>\ud83d\udcf1 Cross-Platform: Available on Android, iOS, Linux, macOS, Windows, and Web</li> </ul>"},{"location":"#quick-links","title":"\ud83d\ude80 Quick Links","text":"<ul> <li> <p> Getting Started</p> <p>Install TrueLedger and start tracking your finances in minutes</p> <p> Installation Guide</p> </li> <li> <p> Architecture</p> <p>Learn about the Clean Architecture pattern and project structure</p> <p> Architecture Overview</p> </li> <li> <p> Development</p> <p>Contribute to TrueLedger and add new features</p> <p> Development Guide</p> </li> <li> <p> Testing</p> <p>Write and run tests for quality assurance</p> <p> Testing Guide</p> </li> </ul>"},{"location":"#whats-inside","title":"\ud83d\udcd6 What's Inside","text":"<p>This documentation covers:</p> <ul> <li>Getting Started: Installation, configuration, and quick start guides.</li> <li>Architecture: Deep dive into Clean Architecture, layers, and design patterns.</li> <li>Development: How to add features, write tests, and follow best practices.</li> <li>Features: Detailed guides for Dashboard, Transactions, Budgets, and AI Insights.</li> <li>Database: Schema, migrations, and performance optimization.</li> <li>Platform-Specific: Implementation details for Web, Android, iOS, and Desktop.</li> <li>CI/CD: Continuous integration and deployment workflows.</li> </ul>"},{"location":"#architecture-at-a-glance","title":"\ud83c\udfd7\ufe0f Architecture at a Glance","text":"<p>TrueLedger follows Clean Architecture principles with four distinct layers:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Presentation Layer              \u2502\n\u2502  (UI, Screens, Widgets, Providers)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Domain Layer                   \u2502\n\u2502  (Use Cases, Models, Repositories)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Data Layer                    \u2502\n\u2502  (Repository Impl, Data Sources)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                  \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Core Layer                    \u2502\n\u2502  (Utils, Services, Constants)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Learn more about the architecture \u2192</p>"},{"location":"#philosophy","title":"\ud83c\udfaf Philosophy","text":"<p>TrueLedger is built with these core principles:</p> <ol> <li>Privacy First: Your financial data never leaves your device</li> <li>Offline First: Full functionality without internet connection</li> <li>User Experience: Beautiful, intuitive, and delightful to use</li> <li>Code Quality: Clean, testable, and maintainable codebase</li> <li>Cross-Platform: One codebase, six platforms</li> </ol>"},{"location":"#contributing","title":"\ud83e\udd1d Contributing","text":"<p>We welcome contributions! Check out our Contributing Guidelines to get started.</p>"},{"location":"#license","title":"\ud83d\udcc4 License","text":"<p>TrueLedger is open source software. See the repository for license details.</p> <p>Ready to dive in? Start with the Installation Guide or explore the Architecture Overview.</p>"},{"location":"DEPLOYMENT/","title":"GitHub Pages Deployment Guide","text":"<p>This guide explains how to deploy the TrueLedger documentation to GitHub Pages.</p>"},{"location":"DEPLOYMENT/#automatic-deployment-recommended","title":"\ud83d\ude80 Automatic Deployment (Recommended)","text":"<p>The documentation is automatically deployed to GitHub Pages whenever changes are pushed to the <code>main</code> branch.</p>"},{"location":"DEPLOYMENT/#how-it-works","title":"How It Works","text":"<ol> <li>Trigger: Push to <code>main</code> branch with changes to <code>docs/</code> or <code>mkdocs.yml</code></li> <li>Build: GitHub Actions builds the documentation using MkDocs</li> <li>Deploy: The built site is deployed to the <code>gh-pages</code> branch</li> <li>Live: Documentation is available at https://satyakommula96.github.io/trueledger/</li> </ol>"},{"location":"DEPLOYMENT/#workflow-file","title":"Workflow File","text":"<p>The deployment is handled by <code>.github/workflows/deploy-docs.yml</code>:</p> <pre><code>name: Deploy Documentation\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'docs/**'\n      - 'mkdocs.yml'\n  workflow_dispatch:  # Manual trigger option\n</code></pre>"},{"location":"DEPLOYMENT/#manual-trigger","title":"Manual Trigger","text":"<p>You can also manually trigger the deployment from GitHub:</p> <ol> <li>Go to Actions tab in GitHub</li> <li>Select Deploy Documentation workflow</li> <li>Click Run workflow</li> <li>Select <code>main</code> branch</li> <li>Click Run workflow</li> </ol>"},{"location":"DEPLOYMENT/#one-time-setup","title":"\ud83d\udd27 One-Time Setup","text":""},{"location":"DEPLOYMENT/#1-enable-github-pages","title":"1. Enable GitHub Pages","text":"<ol> <li>Go to your repository on GitHub</li> <li>Navigate to Settings \u2192 Pages</li> <li>Under Source, select:</li> <li>Branch: <code>gh-pages</code></li> <li>Folder: <code>/ (root)</code></li> <li>Click Save</li> </ol>"},{"location":"DEPLOYMENT/#2-configure-permissions","title":"2. Configure Permissions","text":"<p>The workflow needs write permissions to deploy:</p> <ol> <li>Go to Settings \u2192 Actions \u2192 General</li> <li>Scroll to Workflow permissions</li> <li>Select Read and write permissions</li> <li>Click Save</li> </ol>"},{"location":"DEPLOYMENT/#3-first-deployment","title":"3. First Deployment","text":"<p>After setup, trigger the first deployment:</p> <pre><code># Option 1: Push to main\ngit add .\ngit commit -m \"docs: setup GitHub Pages deployment\"\ngit push origin main\n\n# Option 2: Manual deployment (see below)\n</code></pre>"},{"location":"DEPLOYMENT/#manual-deployment-local","title":"\ud83d\udcbb Manual Deployment (Local)","text":"<p>You can also deploy manually from your local machine:</p>"},{"location":"DEPLOYMENT/#prerequisites","title":"Prerequisites","text":"<pre><code># Install MkDocs and dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"DEPLOYMENT/#deploy","title":"Deploy","text":"<pre><code># Build and deploy to GitHub Pages\nmkdocs gh-deploy\n\n# With custom commit message\nmkdocs gh-deploy -m \"docs: update documentation\"\n</code></pre> <p>This will: 1. Build the documentation 2. Push to <code>gh-pages</code> branch 3. Make it live at https://satyakommula96.github.io/trueledger/</p>"},{"location":"DEPLOYMENT/#verify-deployment","title":"\ud83d\udd0d Verify Deployment","text":""},{"location":"DEPLOYMENT/#check-build-status","title":"Check Build Status","text":"<ol> <li>Go to Actions tab</li> <li>Find the latest Deploy Documentation workflow run</li> <li>Check if it completed successfully (green checkmark)</li> </ol>"},{"location":"DEPLOYMENT/#view-live-site","title":"View Live Site","text":"<p>Visit: https://satyakommula96.github.io/trueledger/</p>"},{"location":"DEPLOYMENT/#check-gh-pages-branch","title":"Check gh-pages Branch","text":"<pre><code># View gh-pages branch\ngit fetch origin\ngit checkout gh-pages\n\n# Return to main\ngit checkout main\n</code></pre>"},{"location":"DEPLOYMENT/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"DEPLOYMENT/#deployment-fails","title":"Deployment Fails","text":"<p>Problem: Workflow fails with permission error</p> <p>Solution:  1. Check Settings \u2192 Actions \u2192 General 2. Ensure Read and write permissions is selected</p> <p>Problem: Pages not updating</p> <p>Solution: 1. Check if workflow ran successfully in Actions tab 2. Clear browser cache 3. Wait a few minutes for GitHub Pages to update</p> <p>Problem: 404 error on GitHub Pages</p> <p>Solution: 1. Verify Settings \u2192 Pages source is set to <code>gh-pages</code> branch 2. Check that <code>site_url</code> in <code>mkdocs.yml</code> matches your GitHub Pages URL 3. Ensure the workflow completed successfully</p>"},{"location":"DEPLOYMENT/#build-errors","title":"Build Errors","text":"<p>Problem: MkDocs build fails</p> <p>Solution: 1. Test locally first: <code>mkdocs build --strict</code> 2. Fix any broken links or missing files 3. Check <code>mkdocs.yml</code> for syntax errors</p>"},{"location":"DEPLOYMENT/#custom-domain","title":"Custom Domain","text":"<p>To use a custom domain (e.g., <code>docs.trueledger.app</code>):</p> <ol> <li> <p>Create <code>docs/CNAME</code> file:    <pre><code>docs.trueledger.app\n</code></pre></p> </li> <li> <p>Configure DNS:</p> </li> <li> <p>Add CNAME record pointing to <code>satyakommula96.github.io</code></p> </li> <li> <p>Update <code>mkdocs.yml</code>:    <pre><code>site_url: https://docs.trueledger.app/\n</code></pre></p> </li> <li> <p>In GitHub Settings \u2192 Pages, add custom domain</p> </li> </ol>"},{"location":"DEPLOYMENT/#deployment-checklist","title":"\ud83d\udccb Deployment Checklist","text":"<p>Before deploying:</p> <ul> <li>[ ] All documentation pages are complete</li> <li>[ ] Links are working (<code>mkdocs build --strict</code>)</li> <li>[ ] Images and assets are included</li> <li>[ ] Navigation structure is correct in <code>mkdocs.yml</code></li> <li>[ ] GitHub Pages is enabled in repository settings</li> <li>[ ] Workflow permissions are set correctly</li> </ul>"},{"location":"DEPLOYMENT/#workflow-details","title":"\ud83d\udd04 Workflow Details","text":""},{"location":"DEPLOYMENT/#triggers","title":"Triggers","text":"<p>The workflow runs when: - Changes pushed to <code>main</code> branch affecting:   - <code>docs/**</code> (any documentation file)   - <code>mkdocs.yml</code> (configuration)   - <code>.github/workflows/deploy-docs.yml</code> (workflow itself) - Manually triggered via GitHub Actions UI</p>"},{"location":"DEPLOYMENT/#steps","title":"Steps","text":"<ol> <li>Checkout: Fetches repository code</li> <li>Setup Python: Installs Python 3.x</li> <li>Cache: Caches pip packages for faster builds</li> <li>Install: Installs MkDocs and plugins</li> <li>Build: Builds documentation with <code>--strict</code> flag</li> <li>Deploy: Pushes to <code>gh-pages</code> branch</li> </ol>"},{"location":"DEPLOYMENT/#build-time","title":"Build Time","text":"<p>Typical build time: 1-2 minutes</p>"},{"location":"DEPLOYMENT/#caching","title":"Caching","text":"<p>Dependencies are cached to speed up builds. Cache is invalidated when <code>requirements.txt</code> changes.</p>"},{"location":"DEPLOYMENT/#monitoring","title":"\ud83d\udcca Monitoring","text":""},{"location":"DEPLOYMENT/#view-deployment-history","title":"View Deployment History","text":"<ol> <li>Go to Actions tab</li> <li>Filter by Deploy Documentation workflow</li> <li>View all past deployments</li> </ol>"},{"location":"DEPLOYMENT/#analytics-optional","title":"Analytics (Optional)","text":"<p>To add Google Analytics:</p> <ol> <li>Get your GA tracking ID</li> <li>Update <code>mkdocs.yml</code>:    <pre><code>extra:\n  analytics:\n    provider: google\n    property: G-XXXXXXXXXX\n</code></pre></li> </ol>"},{"location":"DEPLOYMENT/#best-practices","title":"\ud83c\udfaf Best Practices","text":"<ol> <li>Test Locally: Always run <code>mkdocs serve</code> before pushing</li> <li>Strict Mode: Use <code>mkdocs build --strict</code> to catch errors</li> <li>Commit Messages: Use conventional commits (e.g., <code>docs: update installation guide</code>)</li> <li>Review Changes: Preview changes locally before deploying</li> <li>Incremental Updates: Deploy small, frequent updates rather than large batches</li> </ol>"},{"location":"DEPLOYMENT/#resources","title":"\ud83d\udcda Resources","text":"<ul> <li>MkDocs Documentation</li> <li>Material for MkDocs</li> <li>GitHub Pages Documentation</li> <li>GitHub Actions Documentation</li> </ul> <p>Your documentation is now set up for automatic deployment! \ud83c\udf89</p> <p>Every push to <code>main</code> will automatically update your live documentation site.</p>"},{"location":"ROADMAP/","title":"\ud83c\udfaf TrueLedger Roadmap","text":"<p>TrueLedger is an offline-first, private financial intelligence tool designed to drive retention, trust, and habit formation. This roadmap outlines our journey from a simple tracker to a comprehensive wealth management suite.</p>"},{"location":"ROADMAP/#phase-1-retention-daily-usage-hook","title":"\u2705 Phase 1: Retention (Daily Usage Hook)","text":"<p>Goal: Create a seamless daily entry habit.</p> <ul> <li>[x] Large \"Today\" Glance \u2014 Immediate feedback on daily spending.</li> <li>[x] Quick-Add FAB \u2014 Keypad opens instantly, zero-friction entry.</li> <li>[x] Smart Budgets \u2014 Category-based limits with visual traffic-light indicators.</li> <li>[x] Log Reminders \u2014 Intelligent notifications only when you forget to log.</li> <li>[x] Daily Bill Digest \u2014 Morning briefing on all payments due today.</li> </ul>"},{"location":"ROADMAP/#phase-2-trust-reliability-correction","title":"\u2705 Phase 2: Trust (Reliability &amp; Correction)","text":"<p>Goal: Ensure the tool is accurate and the data is safe.</p> <ul> <li>[x] Search &amp; Edit \u2014 Powerful search for historical corrections.</li> <li>[x] Encrypted Backups \u2014 JSON export/import with AES-256 encryption.</li> <li>[x] Cross-Platform \u2014 Full support for Linux, Windows, and Web (WASM).</li> <li>[x] Undo Framework \u2014 Safety net for accidental deletions.</li> </ul>"},{"location":"ROADMAP/#phase-3-delight-polish-engagement","title":"\u2705 Phase 3: Delight (Polish &amp; Engagement)","text":"<p>Goal: Celebrate progress and optimize performance.</p> <ul> <li>[x] Habit Streaks \u2014 Visual momentum with celebration milestones.</li> <li>[x] Confetti Engine \u2014 High-quality animations for hitting goals/streaks.</li> <li>[x] Performance Optimization \u2014 Sub-second cold start on all platforms.</li> </ul>"},{"location":"ROADMAP/#phase-4-intelligence-actionable-data","title":"\u2705 Phase 4: Intelligence (Actionable Data)","text":"<p>Goal: Move beyond tracking into analysis.</p> <ul> <li>[x] Forensics Engine \u2014 Spending velocity and trend analysis.</li> <li>[x] Financial Health Score \u2014 Proprietary habit-based health metrics.</li> <li>[x] Scenario Simulator \u2014 \"What-if\" projections for future wealth.</li> </ul>"},{"location":"ROADMAP/#phase-5-personalization-adaptive-utility","title":"\u2705 Phase 5: Personalization (Adaptive Utility)","text":"<p>Goal: Reduce effort through gentle adaptation.</p> <ul> <li>[x] Last-Used Memory \u2014 Defaults to previous category/merchant.</li> <li>[x] Time-of-Day Context \u2014 Adapts suggestions based on morning/evening habits.</li> <li>[x] Transparency Engine \u2014 \"Why am I seeing this?\" labels for all AI choices.</li> <li>[x] Privacy Hub \u2014 Granular toggles for every adaptive feature.</li> </ul>"},{"location":"ROADMAP/#phase-6-wealth-management-deep-strategy","title":"\u2705 Phase 6: Wealth Management (Deep Strategy)","text":"<p>Goal: Holistic view of total net worth.</p> <ul> <li>[x] Net Worth Tracking \u2014 Historical evolution with asset/liability breakdown.</li> <li>[x] Retirement Dashboard \u2014 EPF/NPS tracking with corpus projections.</li> <li>[x] Enhanced Portfolio \u2014 Asset allocation charts and category management.</li> <li>[x] Goal Milestones \u2014 Progress tracking with celebratory completion feedback.</li> </ul>"},{"location":"ROADMAP/#phase-7-intelligence-automation-expert-mode","title":"\u2705 Phase 7: Intelligence &amp; Automation (Expert Mode)","text":"<p>Goal: Hands-free tracking and expert planning.</p> <ul> <li>[x] Automation Engine \u2014 Recurring income/expense processing based on calendar.</li> <li>[x] Debt Payoff Planner \u2014 Snowball/Avalanche simulators with interest savings.</li> <li>[x] Advanced Bill Calendar \u2014 interactive month view with payment status.</li> <li>[x] Centralized Hub \u2014 \"More\" menu for managing all advanced strategy tools.</li> </ul>"},{"location":"ROADMAP/#phase-8-polish-scale-upcoming","title":"\ud83d\ude80 Phase 8: Polish &amp; Scale (Upcoming)","text":"<p>Goal: Global utility and refined reporting.</p> <ul> <li>[ ] Multi-Currency Support \u2014 Foreign travel and global asset tracking.</li> <li>[x] Export Enhancements \u2014 PDF/CSV reporting with custom date ranges.</li> <li>[ ] Asset Management \u2014 Physical assets (Car, Property) with depreciation logic.</li> <li>[ ] Family Profiles \u2014 Support for shared household budgets.</li> <li>[x] Adaptive UI \u2014 Refined layouts for tablets and foldables.</li> </ul>"},{"location":"ROADMAP/#known-limitations","title":"\ud83d\udee0\ufe0f Known Limitations","text":"<ul> <li>Windows Notifications: Scheduled repeats currently use a fallback system due to platform plugin constraints.</li> <li>Offline Sync: Multi-device sync is not planned (TrueLedger is strictly offline-first).</li> </ul> <p>Last Updated: February 2026</p>"},{"location":"privacy/","title":"Privacy Policy","text":"<p>TrueLedger is designed with a privacy-first, offline-only architecture. Your financial data remains entirely on your device and under your control at all times.</p>"},{"location":"privacy/#1-data-collection-and-use","title":"1. Data Collection and Use","text":"<p>TrueLedger does not collect, transmit, or store any personal or financial data on external servers.</p> <p>All data entered into the app is processed and stored locally on your device only.</p>"},{"location":"privacy/#data-stored-locally","title":"Data Stored Locally","text":"<ul> <li>Financial Data: Income, expenses, budgets, subscriptions, loans, goals, and related records.</li> <li>App Preferences: Theme selection, currency preference, and UI settings.</li> <li>Security Data: Encrypted PIN and recovery key stored using platform-secure storage (Android Keystore / iOS Keychain).</li> </ul> <p>TrueLedger does not require user accounts and does not associate data with any identity.</p>"},{"location":"privacy/#2-no-data-sharing-or-tracking","title":"2. No Data Sharing or Tracking","text":"<p>TrueLedger does not:</p> <ul> <li>Use analytics or telemetry services</li> <li>Use advertising SDKs</li> <li>Track user behavior</li> <li>Share data with third parties</li> <li>Transmit data over the network</li> </ul> <p>There are no trackers, cookies, or background network calls.</p>"},{"location":"privacy/#3-data-security","title":"3. Data Security","text":""},{"location":"privacy/#local-encryption","title":"Local Encryption","text":"<p>On supported platforms, local databases are encrypted using SQLCipher (AES-256). Encryption keys are managed by the operating system\u2019s secure key storage.</p>"},{"location":"privacy/#app-lock-pin-biometrics","title":"App Lock (PIN &amp; Biometrics)","text":"<ul> <li>Optional PIN protection is stored securely using system-level secure storage.</li> <li>Optional biometric authentication uses device APIs only.</li> <li>A recovery key is generated when PIN protection is enabled.</li> </ul> <p>If both the PIN and recovery key are lost, data cannot be recovered. TrueLedger has no backdoor access.</p>"},{"location":"privacy/#4-permissions","title":"4. Permissions","text":"<p>TrueLedger requests permissions only when required for user-initiated features:</p> <ul> <li>Notifications: Bill reminders and alerts (optional).</li> <li>Storage / Files: Only when exporting or backing up data at the user\u2019s request.</li> <li>Biometrics: Optional device-level authentication for unlocking the app.</li> </ul> <p>Permissions are never accessed in the background.</p>"},{"location":"privacy/#5-data-deletion","title":"5. Data Deletion","text":"<p>You can delete all app data at any time by using the Reset Application option within the app.</p> <p>Uninstalling the app also permanently removes all locally stored data from your device.</p>"},{"location":"privacy/#6-desktop-platforms","title":"6. Desktop Platforms","text":"<p>On desktop platforms (Linux, macOS, Windows), all data is stored locally on the user\u2019s device using the operating system\u2019s file system. No data is transmitted externally.</p>"},{"location":"privacy/#7-contact-and-transparency","title":"7. Contact and Transparency","text":"<p>TrueLedger is an open-source application. For privacy-related questions or concerns, issues can be raised via the project\u2019s GitHub repository.</p> <p>Last updated: January 25, 2026</p>"},{"location":"api/","title":"API Reference","text":"<p>API documentation for TrueLedger.</p>"},{"location":"api/#domain-layer","title":"Domain Layer","text":""},{"location":"api/#models","title":"Models","text":""},{"location":"api/#budget","title":"Budget","text":"<pre><code>class Budget {\n  final int id;\n  final String category;\n  final int monthlyLimit;\n}\n</code></pre>"},{"location":"api/#transaction","title":"Transaction","text":"<pre><code>class Transaction {\n  final int id;\n  final int amount;\n  final String category;\n  final DateTime date;\n  final String? note;\n  final List&lt;String&gt;? tags;\n}\n</code></pre>"},{"location":"api/#savinggoal","title":"SavingGoal","text":"<pre><code>class SavingGoal {\n  final int id;\n  final String name;\n  final int targetAmount;\n  final int currentAmount;\n}\n</code></pre>"},{"location":"api/#use-cases","title":"Use Cases","text":"<p>See individual use case files in <code>lib/domain/usecases/</code> for detailed API documentation.</p>"},{"location":"api/#repository-interfaces","title":"Repository Interfaces","text":"<p>See <code>lib/domain/repositories/i_financial_repository.dart</code> for the complete repository interface.</p>"},{"location":"api/#presentation-layer","title":"Presentation Layer","text":""},{"location":"api/#providers","title":"Providers","text":"<p>See individual provider files in <code>lib/presentation/providers/</code> for provider documentation.</p>"},{"location":"api/#data-layer","title":"Data Layer","text":""},{"location":"api/#database-schema","title":"Database Schema","text":"<p>See Database Schema for complete schema documentation.</p> <p>Note: This is a placeholder. Complete API reference documentation will be generated automatically in the future using tools like <code>dartdoc</code>.</p>"},{"location":"architecture/clean-architecture/","title":"Clean Architecture","text":"<p>A deep dive into Clean Architecture principles as implemented in TrueLedger.</p>"},{"location":"architecture/clean-architecture/#what-is-clean-architecture","title":"What is Clean Architecture?","text":"<p>Clean Architecture is a software design philosophy introduced by Robert C. Martin (Uncle Bob) that emphasizes:</p> <ol> <li>Independence of Frameworks: Business logic doesn't depend on external libraries</li> <li>Testability: Business logic can be tested without UI, database, or external dependencies</li> <li>Independence of UI: UI can change without affecting business logic</li> <li>Independence of Database: Database can be swapped without affecting business logic</li> <li>Independence of External Agencies: Business logic doesn't know about the outside world</li> </ol>"},{"location":"architecture/clean-architecture/#the-dependency-rule","title":"The Dependency Rule","text":"<p>The overriding rule that makes this architecture work:</p> <p>Source code dependencies must point only inward, toward higher-level policies.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Presentation Layer           \u2502  \u2190 Frameworks &amp; Drivers\n\u2502  (UI, Providers, Widgets)           \u2502     (Most volatile)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 depends on\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Domain Layer                \u2502  \u2190 Business Rules\n\u2502  (Use Cases, Entities, Interfaces)  \u2502     (Most stable)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 implemented by\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Data Layer                 \u2502  \u2190 Interface Adapters\n\u2502  (Repositories, Data Sources)       \u2502     (Medium volatility)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/clean-architecture/#layers-in-detail","title":"Layers in Detail","text":""},{"location":"architecture/clean-architecture/#presentation-layer-outermost","title":"Presentation Layer (Outermost)","text":"<p>Purpose: Handle user interface and user interactions</p> <p>Components: - Screens (Flutter widgets) - Providers (Riverpod state management) - UI components</p> <p>Rules: - Can depend on Domain layer - Cannot depend on Data layer directly - No business logic - Delegates all operations to use cases</p> <p>Example: <pre><code>class DashboardScreen extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    // Watch provider (from Presentation layer)\n    final dashboardAsync = ref.watch(dashboardProvider);\n\n    return dashboardAsync.when(\n      loading: () =&gt; CircularProgressIndicator(),\n      error: (err, stack) =&gt; ErrorView(err),\n      data: (dashboard) =&gt; DashboardView(dashboard),\n    );\n  }\n}\n</code></pre></p>"},{"location":"architecture/clean-architecture/#domain-layer-core","title":"Domain Layer (Core)","text":"<p>Purpose: Contain all business logic and rules</p> <p>Components: - Entities: Core business models (Budget, Transaction, etc.) - Use Cases: Single-purpose business operations - Repository Interfaces: Contracts for data access - Services: Complex business logic (e.g., AI insights)</p> <p>Rules: - Pure Dart (no Flutter dependencies) - No implementation details - Defines interfaces, doesn't implement them - Most stable layer (changes least frequently)</p> <p>Example: <pre><code>// Entity\nclass Budget {\n  final int id;\n  final String category;\n  final int monthlyLimit;\n\n  Budget({required this.id, required this.category, required this.monthlyLimit});\n}\n\n// Repository Interface\nabstract class IFinancialRepository {\n  Future&lt;List&lt;Budget&gt;&gt; getBudgets();\n  Future&lt;void&gt; addBudget(Budget budget);\n}\n\n// Use Case\nclass GetBudgetsUseCase extends UseCase&lt;List&lt;Budget&gt;, NoParams&gt; {\n  final IFinancialRepository repository;\n\n  GetBudgetsUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;List&lt;Budget&gt;&gt;&gt; call(NoParams params) async {\n    try {\n      final budgets = await repository.getBudgets();\n      return Success(budgets);\n    } catch (e) {\n      return Failure(DatabaseFailure(e.toString()));\n    }\n  }\n}\n</code></pre></p>"},{"location":"architecture/clean-architecture/#data-layer-infrastructure","title":"Data Layer (Infrastructure)","text":"<p>Purpose: Implement data access and persistence</p> <p>Components: - Repository Implementations: Concrete implementations of domain interfaces - Data Sources: SQLite database, file system, etc. - Migrations: Database schema evolution</p> <p>Rules: - Implements Domain interfaces - Handles all data persistence - No business logic - Can use platform-specific code</p> <p>Example: <pre><code>class FinancialRepositoryImpl implements IFinancialRepository {\n  @override\n  Future&lt;List&lt;Budget&gt;&gt; getBudgets() async {\n    final db = await AppDatabase.db;\n    final results = await db.query('budgets');\n    return results.map((r) =&gt; Budget.fromMap(r)).toList();\n  }\n\n  @override\n  Future&lt;void&gt; addBudget(Budget budget) async {\n    final db = await AppDatabase.db;\n    await db.insert('budgets', budget.toMap());\n  }\n}\n</code></pre></p>"},{"location":"architecture/clean-architecture/#benefits-of-clean-architecture","title":"Benefits of Clean Architecture","text":""},{"location":"architecture/clean-architecture/#1-testability","title":"1. Testability","text":"<p>Each layer can be tested independently:</p> <pre><code>// Test use case without UI or database\ntest('GetBudgetsUseCase returns budgets', () async {\n  final mockRepo = MockFinancialRepository();\n  final useCase = GetBudgetsUseCase(mockRepo);\n\n  when(() =&gt; mockRepo.getBudgets())\n      .thenAnswer((_) async =&gt; [Budget(...)]);\n\n  final result = await useCase(NoParams());\n\n  expect(result.isSuccess, true);\n});\n</code></pre>"},{"location":"architecture/clean-architecture/#2-flexibility","title":"2. Flexibility","text":"<p>Easy to swap implementations:</p> <pre><code>// Development: Use in-memory repository\nfinal financialRepositoryProvider = Provider&lt;IFinancialRepository&gt;((ref) {\n  return InMemoryFinancialRepository();\n});\n\n// Production: Use SQLite repository\nfinal financialRepositoryProvider = Provider&lt;IFinancialRepository&gt;((ref) {\n  return FinancialRepositoryImpl();\n});\n</code></pre>"},{"location":"architecture/clean-architecture/#3-maintainability","title":"3. Maintainability","text":"<p>Changes are isolated to specific layers:</p> <ul> <li>UI redesign? Only touch Presentation layer</li> <li>Change database? Only touch Data layer</li> <li>New business rule? Only touch Domain layer</li> </ul>"},{"location":"architecture/clean-architecture/#4-scalability","title":"4. Scalability","text":"<p>Easy to add new features without affecting existing code:</p> <pre><code>New Feature:\n1. Add entity to Domain\n2. Add methods to repository interface\n3. Implement in Data layer\n4. Create use case\n5. Add UI in Presentation layer\n</code></pre>"},{"location":"architecture/clean-architecture/#common-patterns","title":"Common Patterns","text":""},{"location":"architecture/clean-architecture/#repository-pattern","title":"Repository Pattern","text":"<p>Abstracts data access:</p> <pre><code>// Domain defines the contract\nabstract class IFinancialRepository {\n  Future&lt;List&lt;Transaction&gt;&gt; getTransactions();\n}\n\n// Data implements the contract\nclass FinancialRepositoryImpl implements IFinancialRepository {\n  @override\n  Future&lt;List&lt;Transaction&gt;&gt; getTransactions() async {\n    // Implementation details\n  }\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#use-case-pattern","title":"Use Case Pattern","text":"<p>Encapsulates business operations:</p> <pre><code>abstract class UseCase&lt;T, Params&gt; {\n  Future&lt;Result&lt;T&gt;&gt; call(Params params);\n}\n\nclass GetTransactionsUseCase extends UseCase&lt;List&lt;Transaction&gt;, NoParams&gt; {\n  final IFinancialRepository repository;\n\n  GetTransactionsUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;List&lt;Transaction&gt;&gt;&gt; call(NoParams params) async {\n    // Business logic here\n  }\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#result-pattern","title":"Result Pattern","text":"<p>Type-safe error handling:</p> <pre><code>sealed class Result&lt;T&gt; {\n  const Result();\n}\n\nclass Success&lt;T&gt; extends Result&lt;T&gt; {\n  final T value;\n  const Success(this.value);\n}\n\nclass Failure&lt;T&gt; extends Result&lt;T&gt; {\n  final AppFailure failure;\n  const Failure(this.failure);\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#anti-patterns-to-avoid","title":"Anti-Patterns to Avoid","text":""},{"location":"architecture/clean-architecture/#skipping-layers","title":"\u274c Skipping Layers","text":"<pre><code>// DON'T: UI directly accessing database\nclass MyScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    final db = await AppDatabase.db; // \u274c Wrong!\n    final data = await db.query('transactions');\n    return ListView(...);\n  }\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#business-logic-in-ui","title":"\u274c Business Logic in UI","text":"<pre><code>// DON'T: Business logic in widget\nclass MyScreen extends StatelessWidget {\n  void addTransaction() {\n    if (amount &gt; 0 &amp;&amp; category.isNotEmpty) { // \u274c Business logic!\n      // Save to database\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#domain-depending-on-data","title":"\u274c Domain Depending on Data","text":"<pre><code>// DON'T: Use case depending on concrete repository\nclass MyUseCase {\n  final FinancialRepositoryImpl repository; // \u274c Concrete implementation!\n}\n\n// DO: Use case depending on interface\nclass MyUseCase {\n  final IFinancialRepository repository; // \u2705 Interface!\n}\n</code></pre>"},{"location":"architecture/clean-architecture/#next-steps","title":"Next Steps","text":"<ul> <li>Project Structure - File organization</li> <li>Data Flow - How data moves through layers</li> <li>State Management - Riverpod patterns</li> <li>Adding Features - Practical guide</li> </ul>"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>TrueLedger is built using Clean Architecture principles, ensuring a scalable, testable, and maintainable codebase.</p>"},{"location":"architecture/overview/#core-principles","title":"Core Principles","text":"<p>TrueLedger is designed around these fundamental principles:</p> <ul> <li>\u2705 Privacy First: All data stored locally with encryption (mobile) or secure storage (desktop)</li> <li>\u2705 Offline First: No cloud dependencies, works completely offline</li> <li>\u2705 Clean Architecture: Clear separation of concerns across layers</li> <li>\u2705 Testable: Comprehensive unit, widget, and integration tests</li> <li>\u2705 Cross-Platform: Single codebase for all platforms</li> </ul>"},{"location":"architecture/overview/#what-is-clean-architecture","title":"What is Clean Architecture?","text":"<p>Clean Architecture, introduced by Robert C. Martin (Uncle Bob), is a software design philosophy that separates concerns into distinct layers. Each layer has specific responsibilities and dependencies flow inward toward the business logic.</p>"},{"location":"architecture/overview/#benefits","title":"Benefits","text":"<ol> <li>Independence: Business logic is independent of frameworks, UI, and databases</li> <li>Testability: Business logic can be tested without UI, database, or external dependencies</li> <li>Maintainability: Changes in one layer don't affect others</li> <li>Flexibility: Easy to swap implementations (e.g., change database or UI framework)</li> </ol>"},{"location":"architecture/overview/#architecture-layers","title":"Architecture Layers","text":"<p>TrueLedger implements Clean Architecture with four distinct layers:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   PRESENTATION LAYER                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Screens   \u2502  \u2502   Providers  \u2502  \u2502   Widgets     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502 Uses\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    DOMAIN LAYER                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Use Cases  \u2502  \u2502   Entities   \u2502  \u2502  Interfaces   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502 Implements\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     DATA LAYER                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502Repositories \u2502  \u2502 Data Sources \u2502  \u2502    Models     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502 Uses\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      CORE LAYER                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Utils     \u2502  \u2502   Services   \u2502  \u2502    Theme      \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/overview/#layer-descriptions","title":"Layer Descriptions","text":""},{"location":"architecture/overview/#1-presentation-layer","title":"1. Presentation Layer","text":"<p>Location: <code>lib/presentation/</code></p> <p>Handles all UI and user interactions. This layer is responsible for: - Displaying data to users - Capturing user input - Managing UI state with Riverpod - Delegating business logic to use cases</p> <p>Key Components: - Screens: Flutter widgets (Dashboard, Analysis, Settings, etc.) - Providers: Riverpod state management - Widgets: Reusable UI components</p>"},{"location":"architecture/overview/#2-domain-layer","title":"2. Domain Layer","text":"<p>Location: <code>lib/domain/</code></p> <p>Contains the business logic and rules. This is the heart of the application: - Defines what the app does - Contains no framework-specific code (pure Dart) - Defines interfaces for data access - Encapsulates business operations in use cases</p> <p>Key Components: - Use Cases: Single-purpose business operations - Entities: Core business models (Budget, Transaction, etc.) - Repository Interfaces: Contracts for data access - Services: Complex business logic (AI insights)</p>"},{"location":"architecture/overview/#3-data-layer","title":"3. Data Layer","text":"<p>Location: <code>lib/data/</code></p> <p>Handles data persistence and retrieval: - Implements repository interfaces from the domain layer - Manages database operations - Handles data transformations</p> <p>Key Components: - Repositories: Implementations of domain interfaces - Data Sources: SQLite database access - Migrations: Database schema evolution</p>"},{"location":"architecture/overview/#4-core-layer","title":"4. Core Layer","text":"<p>Location: <code>lib/core/</code></p> <p>Provides cross-cutting concerns and utilities: - Shared utilities used across all layers - Platform-specific services - App-wide configuration</p> <p>Key Components: - Utils: Helper functions, extensions - Services: Notifications, platform-specific code - Theme: App theming and styling - Error: Error handling types</p>"},{"location":"architecture/overview/#dependency-rule","title":"Dependency Rule","text":"<p>The Dependency Rule is the most important principle in Clean Architecture:</p> <p>Dependencies always point inward</p> <pre><code>Presentation \u2192 Domain \u2192 Data \u2192 Core\n     \u2193           \u2193        \u2193\n   (Uses)    (Defines)  (Implements)\n</code></pre> <p>What this means: - \u2705 Presentation can depend on Domain - \u2705 Domain defines interfaces (doesn't depend on Data) - \u2705 Data implements Domain interfaces - \u274c Domain cannot depend on Presentation or Data - \u274c Data cannot depend on Presentation</p>"},{"location":"architecture/overview/#non-negotiable-rules","title":"Non-Negotiable Rules","text":"<p>These rules must never be violated. They prevent architectural degradation and ensure long-term maintainability.</p>"},{"location":"architecture/overview/#rule-1-domain-must-not-depend-on-flutter","title":"Rule 1: Domain Must Not Depend on Flutter","text":"<p>Why: Domain layer contains business logic that should be framework-independent.</p> <pre><code>// \u274c WRONG - Domain depending on Flutter\nimport 'package:flutter/material.dart';  // NO!\n\nclass Budget {\n  final Color color;  // Flutter-specific type\n}\n</code></pre> <pre><code>// \u2705 CORRECT - Pure Dart\nclass Budget {\n  final int id;\n  final String category;\n  final int monthlyLimit;  // All pure Dart types\n}\n</code></pre> <p>Enforcement: Domain layer (<code>lib/domain/</code>) must only import: - <code>dart:core</code>, <code>dart:async</code>, <code>dart:collection</code> - Other domain files - Core utilities (pure Dart only)</p>"},{"location":"architecture/overview/#rule-2-ui-must-not-contain-business-logic","title":"Rule 2: UI Must Not Contain Business Logic","text":"<p>Why: Business logic in UI makes it untestable and violates separation of concerns.</p> <pre><code>// \u274c WRONG - Business logic in widget\nclass AddBudgetScreen extends StatelessWidget {\n  void saveBudget() {\n    if (amount &gt; 0 &amp;&amp; category.isNotEmpty) {  // Validation logic!\n      database.insert('budgets', {...});      // Database access!\n    }\n  }\n}\n</code></pre> <pre><code>// \u2705 CORRECT - Delegate to use case\nclass AddBudgetScreen extends ConsumerWidget {\n  void saveBudget(WidgetRef ref) {\n    final useCase = ref.read(addBudgetUseCaseProvider);\n    useCase(AddBudgetParams(amount: amount, category: category));\n  }\n}\n</code></pre> <p>Enforcement: Presentation layer must: - Only handle UI rendering and user input - Delegate all business operations to use cases - Never directly access data layer</p>"},{"location":"architecture/overview/#rule-3-repositories-must-not-perform-validation","title":"Rule 3: Repositories Must Not Perform Validation","text":"<p>Why: Validation is business logic and belongs in the domain layer.</p> <pre><code>// \u274c WRONG - Validation in repository\nclass FinancialRepositoryImpl {\n  Future&lt;void&gt; addBudget(Budget budget) async {\n    if (budget.monthlyLimit &lt;= 0) {  // NO! This is business logic\n      throw Exception('Invalid amount');\n    }\n    await db.insert('budgets', budget.toMap());\n  }\n}\n</code></pre> <pre><code>// \u2705 CORRECT - Validation in use case\nclass AddBudgetUseCase {\n  Future&lt;Result&lt;void&gt;&gt; call(AddBudgetParams params) async {\n    // Validation here (domain layer)\n    if (params.monthlyLimit &lt;= 0) {\n      return Failure(ValidationFailure('Amount must be positive'));\n    }\n\n    // Repository just persists\n    return await repository.addBudget(params.toBudget());\n  }\n}\n</code></pre> <p>Enforcement: Repositories must: - Only handle data persistence and retrieval - Never validate business rules - Never throw business exceptions</p>"},{"location":"architecture/overview/#rule-4-all-failures-must-be-modeled","title":"Rule 4: All Failures Must Be Modeled","text":"<p>Why: Explicit error handling prevents runtime crashes and makes errors visible in the type system.</p> <pre><code>// \u274c WRONG - Throwing exceptions\nFuture&lt;List&lt;Budget&gt;&gt; getBudgets() async {\n  final data = await db.query('budgets');\n  if (data.isEmpty) {\n    throw Exception('No budgets found');  // Invisible in type signature!\n  }\n  return data.map((e) =&gt; Budget.fromMap(e)).toList();\n}\n</code></pre> <pre><code>// \u2705 CORRECT - Result type\nFuture&lt;Result&lt;List&lt;Budget&gt;&gt;&gt; getBudgets() async {\n  try {\n    final data = await db.query('budgets');\n    final budgets = data.map((e) =&gt; Budget.fromMap(e)).toList();\n    return Success(budgets);\n  } catch (e) {\n    return Failure(DatabaseFailure(e.toString()));\n  }\n}\n</code></pre> <p>Enforcement: All use cases and repositories must: - Return <code>Result&lt;T&gt;</code> or <code>Future&lt;Result&lt;T&gt;&gt;</code> - Never throw exceptions for business errors - Model all failure cases explicitly</p>"},{"location":"architecture/overview/#rule-5-use-absolute-imports-only","title":"Rule 5: Use Absolute Imports Only","text":"<p>Why: Relative imports break when files are moved and make refactoring difficult.</p> <pre><code>// \u274c WRONG - Relative imports\nimport '../../domain/models/models.dart';\nimport '../../../data/repositories/financial_repository_impl.dart';\n</code></pre> <pre><code>// \u2705 CORRECT - Absolute package imports\nimport 'package:trueledger/domain/models/models.dart';\nimport 'package:trueledger/data/repositories/financial_repository_impl.dart';\n</code></pre> <p>Enforcement: All imports must use <code>package:trueledger/...</code> format.</p>"},{"location":"architecture/overview/#rule-6-one-use-case-per-operation","title":"Rule 6: One Use Case Per Operation","text":"<p>Why: Single Responsibility Principle - each use case should do one thing well.</p> <pre><code>// \u274c WRONG - Multiple operations in one use case\nclass BudgetUseCase {\n  Future&lt;List&lt;Budget&gt;&gt; getAll() { ... }\n  Future&lt;void&gt; add(Budget budget) { ... }\n  Future&lt;void&gt; delete(int id) { ... }\n}\n</code></pre> <pre><code>// \u2705 CORRECT - Separate use cases\nclass GetBudgetsUseCase extends UseCase&lt;List&lt;Budget&gt;, NoParams&gt; { ... }\nclass AddBudgetUseCase extends UseCase&lt;void, AddBudgetParams&gt; { ... }\nclass DeleteBudgetUseCase extends UseCase&lt;void, int&gt; { ... }\n</code></pre> <p>Enforcement: Each use case must: - Extend <code>UseCase&lt;T, Params&gt;</code> - Implement exactly one <code>call()</code> method - Have a clear, single purpose</p>"},{"location":"architecture/overview/#violation-detection","title":"Violation Detection","text":"<p>How to check for violations:</p> <pre><code># Check for Flutter imports in domain layer\ngrep -r \"import 'package:flutter\" lib/domain/\n\n# Check for database access in presentation layer\ngrep -r \"AppDatabase.db\" lib/presentation/\n\n# Check for business logic in widgets\n# (Manual code review required)\n\n# Run analyzer\nflutter analyze\n</code></pre> <p>These rules are enforced through: - Code reviews - Automated linting (where possible) - Architecture documentation - Team discipline</p> <p>Violating these rules will result in: - Pull request rejection - Mandatory refactoring - Technical debt accumulation - Reduced testability and maintainability</p>"},{"location":"architecture/overview/#state-management","title":"State Management","text":"<p>TrueLedger uses Riverpod for state management and dependency injection.</p>"},{"location":"architecture/overview/#why-riverpod","title":"Why Riverpod?","text":"<ol> <li>Compile-time safety: Catch errors at compile time, not runtime</li> <li>No BuildContext: Access providers anywhere</li> <li>Testability: Easy to mock and test</li> <li>Scoped providers: Fine-grained control over rebuilds</li> </ol>"},{"location":"architecture/overview/#provider-hierarchy","title":"Provider Hierarchy","text":"<pre><code>// Level 1: Repository (singleton)\nfinal financialRepositoryProvider = Provider&lt;IFinancialRepository&gt;(...);\n\n// Level 2: Use Cases (depend on repositories)\nfinal getDashboardDataUseCaseProvider = Provider&lt;GetDashboardDataUseCase&gt;(\n  (ref) =&gt; GetDashboardDataUseCase(ref.watch(financialRepositoryProvider))\n);\n\n// Level 3: State Providers (depend on use cases)\nfinal dashboardProvider = FutureProvider&lt;DashboardData&gt;((ref) async {\n  final useCase = ref.watch(getDashboardDataUseCaseProvider);\n  return (await useCase(NoParams())).getOrThrow;\n});\n\n// Level 4: UI (watches state providers)\nWidget build(BuildContext context, WidgetRef ref) {\n  final dashboardAsync = ref.watch(dashboardProvider);\n  return dashboardAsync.when(...);\n}\n</code></pre>"},{"location":"architecture/overview/#data-flow-example","title":"Data Flow Example","text":"<p>Let's trace how data flows when loading the dashboard:</p> <pre><code>1. User opens app\n   \u2193\n2. DashboardScreen watches dashboardProvider\n   \u2193\n3. dashboardProvider calls getDashboardDataUseCase\n   \u2193\n4. Use case calls IFinancialRepository methods\n   \u2193\n5. FinancialRepositoryImpl queries SQLite database\n   \u2193\n6. Data flows back up through layers\n   \u2193\n7. Provider updates state\n   \u2193\n8. UI rebuilds with new data\n</code></pre> <p>Code Implementation:</p> <pre><code>// 1. UI Layer (Presentation)\nclass DashboardScreen extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final dashboardAsync = ref.watch(dashboardProvider);\n\n    return dashboardAsync.when(\n      loading: () =&gt; CircularProgressIndicator(),\n      error: (err, stack) =&gt; Text('Error: $err'),\n      data: (dashboard) =&gt; DashboardView(dashboard),\n    );\n  }\n}\n\n// 2. Provider Layer (Presentation)\nfinal dashboardProvider = FutureProvider&lt;DashboardData&gt;((ref) async {\n  final useCase = ref.watch(getDashboardDataUseCaseProvider);\n  final result = await useCase(NoParams());\n  return result.getOrThrow;\n});\n\n// 3. Use Case Layer (Domain)\nclass GetDashboardDataUseCase extends UseCase&lt;DashboardData, NoParams&gt; {\n  final IFinancialRepository repository;\n\n  @override\n  Future&lt;Result&lt;DashboardData&gt;&gt; call(NoParams params) async {\n    final summary = await repository.getMonthlySummary();\n    final budgets = await repository.getBudgets();\n    final goals = await repository.getSavingGoals();\n\n    return Success(DashboardData(\n      summary: summary,\n      budgets: budgets,\n      goals: goals,\n    ));\n  }\n}\n\n// 4. Repository Layer (Data)\nclass FinancialRepositoryImpl implements IFinancialRepository {\n  @override\n  Future&lt;MonthlySummary&gt; getMonthlySummary() async {\n    final db = await AppDatabase.db;\n    final income = await db.query('income_sources');\n    final expenses = await db.query('variable_expenses');\n\n    return MonthlySummary(\n      totalIncome: _calculateTotal(income),\n      totalExpenses: _calculateTotal(expenses),\n    );\n  }\n}\n</code></pre>"},{"location":"architecture/overview/#key-design-patterns","title":"Key Design Patterns","text":"<p>TrueLedger leverages several design patterns:</p> <ol> <li>Repository Pattern: Abstracts data access</li> <li>Use Case Pattern: Encapsulates business operations</li> <li>Result Pattern: Type-safe error handling</li> <li>Provider Pattern: Dependency injection</li> </ol>"},{"location":"architecture/overview/#testing-strategy","title":"Testing Strategy","text":"<p>The architecture enables comprehensive testing at every layer:</p> <pre><code>         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502 Integration \u2502  (1 test)\n         \u2502   Tests     \u2502  Full user flows\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502 Widget Tests  \u2502  (1 test)\n        \u2502  UI Testing   \u2502  Screen rendering\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502   Unit Tests    \u2502  (19 tests)\n       \u2502 Business Logic  \u2502  Use cases, repositories\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>All 21 tests pass, ensuring code quality and reliability.</p> <p>Learn more about testing \u2192</p>"},{"location":"architecture/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Clean Architecture Deep Dive - Detailed explanation</li> <li>Project Structure - File organization</li> <li>Data Flow - Detailed data flow examples</li> <li>State Management - Riverpod patterns</li> <li>Adding Features - Step-by-step guide</li> </ul>"},{"location":"architecture/project-structure/","title":"Project Structure &amp; Architecture Conventions","text":"<p>TrueLedger follows a Clean Architecture approach with strict separation of concerns. This ensures scalability, testability, and maintainability.</p>"},{"location":"architecture/project-structure/#directory-structure","title":"Directory Structure","text":"<p>We use a Layer-First organization (Standard Flutter Clean Arch), gradually moving towards Feature-First where possible.</p> <pre><code>lib/\n\u251c\u2500\u2500 core/                  # Infrastructure &amp; Shared Utilities\n\u2502   \u251c\u2500\u2500 config/            # App-wide vars (Version, Constants)\n\u2502   \u251c\u2500\u2500 error/             # Failure/Exception classes\n\u2502   \u251c\u2500\u2500 services/          # External services (Notification, Intelligence)\n\u2502   \u251c\u2500\u2500 theme/             # AppTheme &amp; AppColors\n\u2502   \u2514\u2500\u2500 utils/             # Helpers (Date, Currency, Platform)\n\u2502\n\u251c\u2500\u2500 data/                  # Data Layer (Implements Domain Interfaces)\n\u2502   \u251c\u2500\u2500 datasources/       # Low-level data access (Database, SharedPreferences)\n\u2502   \u2514\u2500\u2500 repositories/      # Implementation of Domain Repositories\n\u2502\n\u251c\u2500\u2500 domain/                # Business Logic (Pure Dart, No Flutter)\n\u2502   \u251c\u2500\u2500 models/            # Entities / Data Classes\n\u2502   \u251c\u2500\u2500 repositories/      # Interfaces (Contracts)\n\u2502   \u2514\u2500\u2500 usecases/          # Business Logic Units (Single Responsibility)\n\u2502\n\u251c\u2500\u2500 presentation/          # UI Layer (Widgets &amp; State)\n\u2502   \u251c\u2500\u2500 providers/         # Riverpod Providers (State Management)\n\u2502   \u251c\u2500\u2500 screens/           # Full-screen Widgets\n\u2502   \u2502   \u251c\u2500\u2500 dashboard/\n\u2502   \u2502   \u251c\u2500\u2500 transactions/\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 widgets/           # Shared/Reusable UI Components\n\u2502\n\u2514\u2500\u2500 main.dart              # Entry Point\n</code></pre>"},{"location":"architecture/project-structure/#architecture-rules","title":"Architecture Rules","text":"<ol> <li> <p>Dependency Rule: Dependencies point INWARDS.</p> <ul> <li><code>Presentation</code> depends on <code>Domain</code>.</li> <li><code>Data</code> depends on <code>Domain</code>.</li> <li><code>Domain</code> depends on NOTHING (pure Dart).</li> </ul> </li> <li> <p>State Management: Riverpod</p> <ul> <li>UI Widgets (<code>ConsumerWidget</code>) must never call Repositories directly.</li> <li>UI must watch Providers.</li> <li>Providers use UseCases.</li> <li>UseCases use Repositories.</li> </ul> </li> <li> <p>Data Flow:</p> <ul> <li><code>UI</code> -&gt; <code>Provider</code> -&gt; <code>UseCase</code> -&gt; <code>Repository</code> -&gt; <code>DataSource</code> -&gt; <code>Database</code></li> </ul> </li> <li> <p>Testing:</p> <ul> <li>Unit Tests: Domain layer (UseCases, Models) and Logic.</li> <li>Widget Tests: Presentation layer (Screens, Widgets).</li> <li>Integration Tests: Data layer (Repositories with in-memory DB).</li> </ul> </li> </ol>"},{"location":"architecture/project-structure/#naming-conventions","title":"Naming Conventions","text":"<ul> <li>Files: <code>snake_case.dart</code></li> <li>Classes: <code>PascalCase</code></li> <li>Variables: <code>camelCase</code></li> <li>Repositories: <code>IFinancialRepository</code> (Interface), <code>FinancialRepositoryImpl</code> (Impl).</li> <li>UseCases: <code>VerbSubjectUseCase</code> (e.g., <code>GetMonthlySummaryUseCase</code>).</li> </ul>"},{"location":"architecture/state-management/","title":"State Management Strategy","text":"<p>TrueLedger uses Riverpod (specifically <code>flutter_riverpod</code>) for dependency injection and state management.</p>"},{"location":"architecture/state-management/#core-principles","title":"Core Principles","text":"<ol> <li> <p>Immutability:</p> <ul> <li>State objects should be immutable (use <code>final</code> fields).</li> <li>Update state by creating new instances (<code>copyWith</code>).</li> </ul> </li> <li> <p>Unidirectional Data Flow:</p> <ul> <li>Data flows down from Providers to Widgets.</li> <li>Events flow up from Widgets to Providers/Controllers.</li> </ul> </li> <li> <p>No Logic in UI:</p> <ul> <li>Widgets should only handle display and user input.</li> <li>Business logic belongs in UseCases.</li> <li>Presentation logic belongs in Providers/Notifiers.</li> </ul> </li> </ol>"},{"location":"architecture/state-management/#provider-organization","title":"Provider Organization","text":"<p>Providers are located in <code>lib/presentation/providers/</code>.</p> <ul> <li> <p>Repository Providers (<code>repository_providers.dart</code>):</p> <ul> <li>Provide instances of Repositories.</li> <li>Usually <code>Provider&lt;IRepository&gt;</code>.</li> </ul> </li> <li> <p>UseCase Providers (<code>usecase_providers.dart</code>):</p> <ul> <li>Provide instances of UseCases.</li> <li>Depend on Repository Providers.</li> <li>Example: <code>final getSummaryUseCaseProvider = Provider((ref) =&gt; GetSummaryUseCase(ref.watch(repoProvider)));</code></li> </ul> </li> <li> <p>Feature Providers (e.g., <code>dashboard_provider.dart</code>):</p> <ul> <li>Hold the state for a specific screen or feature.</li> <li>Usually <code>FutureProvider</code> or <code>StateNotifierProvider</code>.</li> <li>Example: <code>dashboardProvider</code> fetches data via UseCases and exposes <code>DashboardData</code>.</li> </ul> </li> </ul>"},{"location":"architecture/state-management/#rules","title":"Rules","text":"<ul> <li>\u274c DO NOT use <code>setState</code> for complex state or business logic.</li> <li>\u274c DO NOT access Repositories directly in Widgets.</li> <li>\u2705 DO use <code>ref.watch</code> in <code>build</code> methods.</li> <li>\u2705 DO use <code>ref.read</code> in callbacks (e.g., <code>onTap</code>).</li> </ul>"},{"location":"contributing/code-of-conduct/","title":"Code of Conduct","text":""},{"location":"contributing/code-of-conduct/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"contributing/code-of-conduct/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment:</p> <ul> <li>Using welcoming and inclusive language</li> <li>Being respectful of differing viewpoints and experiences</li> <li>Gracefully accepting constructive criticism</li> <li>Focusing on what is best for the community</li> <li>Showing empathy towards other community members</li> </ul> <p>Examples of unacceptable behavior:</p> <ul> <li>The use of sexualized language or imagery</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information without explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate</li> </ul>"},{"location":"contributing/code-of-conduct/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Project maintainers are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p>"},{"location":"contributing/code-of-conduct/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces.</p>"},{"location":"contributing/code-of-conduct/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the project team. All complaints will be reviewed and investigated promptly and fairly.</p>"},{"location":"contributing/code-of-conduct/#attribution","title":"Attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 2.0.</p>"},{"location":"contributing/guidelines/","title":"Contributing Guidelines","text":"<p>Thank you for your interest in contributing to TrueLedger! This document provides guidelines for contributing to the project.</p>"},{"location":"contributing/guidelines/#code-of-conduct","title":"Code of Conduct","text":"<p>Please read and follow our Code of Conduct.</p>"},{"location":"contributing/guidelines/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository on GitHub</li> <li>Clone your fork locally:    <pre><code>git clone https://github.com/YOUR_USERNAME/trueledger.git\ncd trueledger\n</code></pre></li> <li>Install dependencies:    <pre><code>flutter pub get\n</code></pre></li> <li>Create a branch for your feature:    <pre><code>git checkout -b feature/my-new-feature\n</code></pre></li> </ol>"},{"location":"contributing/guidelines/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/guidelines/#1-make-your-changes","title":"1. Make Your Changes","text":"<p>Follow the Adding Features guide for implementing new features.</p>"},{"location":"contributing/guidelines/#2-write-tests","title":"2. Write Tests","text":"<p>All new code must include tests: - Unit tests for use cases and business logic - Widget tests for UI components - Integration tests for user flows (if applicable)</p> <pre><code>flutter test\n</code></pre>"},{"location":"contributing/guidelines/#3-run-code-quality-checks","title":"3. Run Code Quality Checks","text":"<pre><code># Format code\ndart format .\n\n# Analyze code\nflutter analyze\n\n# Run tests\nflutter test\n</code></pre> <p>All checks must pass before submitting a PR.</p>"},{"location":"contributing/guidelines/#4-commit-your-changes","title":"4. Commit Your Changes","text":"<p>Use conventional commit messages:</p> <pre><code>feat: add recurring transactions feature\nfix: resolve budget calculation error\ndocs: update architecture documentation\ntest: add tests for dashboard provider\nrefactor: simplify analysis screen logic\n</code></pre>"},{"location":"contributing/guidelines/#5-push-and-create-pull-request","title":"5. Push and Create Pull Request","text":"<pre><code>git push origin feature/my-new-feature\n</code></pre> <p>Then create a pull request on GitHub.</p>"},{"location":"contributing/guidelines/#pull-request-guidelines","title":"Pull Request Guidelines","text":""},{"location":"contributing/guidelines/#pr-title","title":"PR Title","text":"<p>Use conventional commit format: - <code>feat: description</code> - New feature - <code>fix: description</code> - Bug fix - <code>docs: description</code> - Documentation - <code>test: description</code> - Tests - <code>refactor: description</code> - Code refactoring - <code>chore: description</code> - Maintenance</p>"},{"location":"contributing/guidelines/#pr-description","title":"PR Description","text":"<p>Include: 1. What: What does this PR do? 2. Why: Why is this change needed? 3. How: How does it work? 4. Testing: How was it tested? 5. Screenshots: For UI changes</p> <p>Example: <pre><code>## What\nAdds recurring transactions feature\n\n## Why\nUsers requested ability to track recurring expenses like subscriptions\n\n## How\n- Added RecurringTransaction entity\n- Implemented CRUD operations in repository\n- Created use cases and providers\n- Built UI screen\n\n## Testing\n- Added unit tests for use cases\n- Added widget tests for UI\n- Manually tested on Android and Linux\n\n## Screenshots\n[Screenshot of recurring transactions screen]\n</code></pre></p>"},{"location":"contributing/guidelines/#pr-checklist","title":"PR Checklist","text":"<ul> <li>[ ] Code follows Clean Architecture principles</li> <li>[ ] All tests passing</li> <li>[ ] No analyzer warnings</li> <li>[ ] Code formatted with <code>dart format</code></li> <li>[ ] Documentation updated</li> <li>[ ] Commit messages follow conventions</li> <li>[ ] PR description is complete</li> </ul>"},{"location":"contributing/guidelines/#code-style","title":"Code Style","text":""},{"location":"contributing/guidelines/#dartflutter-conventions","title":"Dart/Flutter Conventions","text":"<p>Follow the Effective Dart guidelines:</p> <ul> <li>Use <code>lowerCamelCase</code> for variables and methods</li> <li>Use <code>UpperCamelCase</code> for classes and types</li> <li>Use <code>lowercase_with_underscores</code> for file names</li> <li>Prefer <code>const</code> constructors when possible</li> <li>Use trailing commas for better formatting</li> </ul>"},{"location":"contributing/guidelines/#project-conventions","title":"Project Conventions","text":"<ol> <li> <p>Absolute Imports: Always use package imports    <pre><code>// \u2705 DO\nimport 'package:trueledger/domain/models/models.dart';\n\n// \u274c DON'T\nimport '../../domain/models/models.dart';\n</code></pre></p> </li> <li> <p>File Organization: Follow the layer structure    <pre><code>lib/\n\u251c\u2500\u2500 core/\n\u251c\u2500\u2500 data/\n\u251c\u2500\u2500 domain/\n\u2514\u2500\u2500 presentation/\n</code></pre></p> </li> <li> <p>Naming: Use descriptive names    <pre><code>// \u2705 DO\nfinal getDashboardDataUseCase = ...;\n\n// \u274c DON'T\nfinal useCase1 = ...;\n</code></pre></p> </li> </ol>"},{"location":"contributing/guidelines/#testing-guidelines","title":"Testing Guidelines","text":""},{"location":"contributing/guidelines/#unit-tests","title":"Unit Tests","text":"<p>Test business logic in isolation:</p> <pre><code>test('GetBudgetsUseCase returns budgets', () async {\n  // Arrange\n  final mockRepo = MockFinancialRepository();\n  final useCase = GetBudgetsUseCase(mockRepo);\n\n  when(() =&gt; mockRepo.getBudgets())\n      .thenAnswer((_) async =&gt; [Budget(...)]);\n\n  // Act\n  final result = await useCase(NoParams());\n\n  // Assert\n  expect(result.isSuccess, true);\n  verify(() =&gt; mockRepo.getBudgets()).called(1);\n});\n</code></pre>"},{"location":"contributing/guidelines/#widget-tests","title":"Widget Tests","text":"<p>Test UI components:</p> <pre><code>testWidgets('Dashboard renders correctly', (tester) async {\n  await tester.pumpWidget(\n    ProviderScope(\n      overrides: [\n        financialRepositoryProvider.overrideWithValue(mockRepo),\n      ],\n      child: MaterialApp(home: Dashboard()),\n    ),\n  );\n\n  await tester.pumpAndSettle();\n\n  expect(find.byType(Dashboard), findsOneWidget);\n});\n</code></pre>"},{"location":"contributing/guidelines/#integration-tests","title":"Integration Tests","text":"<p>Test complete user flows:</p> <pre><code>testWidgets('User can add a budget', (tester) async {\n  await tester.pumpWidget(ProviderScope(child: TrueLedgerApp()));\n\n  // Navigate to budgets\n  await tester.tap(find.text('Budgets'));\n  await tester.pumpAndSettle();\n\n  // Add budget\n  await tester.tap(find.byIcon(Icons.add));\n  await tester.pumpAndSettle();\n\n  // Fill form\n  await tester.enterText(find.byType(TextField).first, 'Groceries');\n  await tester.enterText(find.byType(TextField).last, '500');\n\n  // Save\n  await tester.tap(find.text('Save'));\n  await tester.pumpAndSettle();\n\n  // Verify\n  expect(find.text('Groceries'), findsOneWidget);\n});\n</code></pre>"},{"location":"contributing/guidelines/#documentation","title":"Documentation","text":""},{"location":"contributing/guidelines/#code-documentation","title":"Code Documentation","text":"<p>Document public APIs:</p> <pre><code>/// Retrieves all budgets for the current month.\n///\n/// Returns a [Result] containing a list of [Budget] objects on success,\n/// or a [Failure] if an error occurs.\nFuture&lt;Result&lt;List&lt;Budget&gt;&gt;&gt; getBudgets();\n</code></pre>"},{"location":"contributing/guidelines/#architecture-documentation","title":"Architecture Documentation","text":"<p>Update <code>docs/</code> when adding significant features:</p> <ul> <li>Update architecture diagrams if structure changes</li> <li>Add new pages for major features</li> <li>Update API reference</li> </ul>"},{"location":"contributing/guidelines/#review-process","title":"Review Process","text":"<ol> <li>Automated Checks: CI runs tests and analysis</li> <li>Code Review: Maintainer reviews code</li> <li>Feedback: Address review comments</li> <li>Approval: Once approved, PR is merged</li> </ol>"},{"location":"contributing/guidelines/#questions","title":"Questions?","text":"<ul> <li>Check the Architecture Documentation</li> <li>Read the Adding Features Guide</li> <li>Open a GitHub Discussion</li> <li>Create an Issue</li> </ul>"},{"location":"contributing/guidelines/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the same license as the project.</p> <p>Thank you for contributing to TrueLedger! \ud83c\udf89</p>"},{"location":"database/migrations/","title":"Database Migrations","text":"<p>TrueLedger handles schema updates gracefully through a custom migration framework, ensuring that user data is preserved across application updates while maintaining a stable and durable storage structure.</p>"},{"location":"database/migrations/#storage-strategy","title":"\ud83c\udfd7\ufe0f Storage Strategy","text":"<p>From version 1.3.18+, TrueLedger uses a stable filename strategy for the database: - Filename: <code>trueledger_secure.db</code> - Location: Application Documents directory (platform-specific). - Legacy Migration: On startup, if the stable database is not found, the app automatically checks for legacy versioned files (e.g., <code>tracker_enc_v6.db</code>) and migrates data to the new stable file.</p>"},{"location":"database/migrations/#migration-framework","title":"\ud83d\udee0\ufe0f Migration Framework","text":"<p>The migration logic is managed via the <code>Migration</code> class (<code>lib/data/datasources/database_migrations.dart</code>).</p>"},{"location":"database/migrations/#key-features","title":"Key Features:","text":"<ul> <li>Versioning: Each migration is assigned a strictly increasing integer version.</li> <li>Tracking Table: A special <code>_migrations</code> table records every applied migration with a timestamp for auditability.</li> <li>Graceful Up/Down: Support for rolling forward and rolling back schema changes.</li> <li>Performance: Designed to keep startup time under 1 second by using optimized SQLite operations.</li> </ul>"},{"location":"database/migrations/#migration-history","title":"\ud83d\udcdc Migration History","text":""},{"location":"database/migrations/#version-1","title":"Version 1","text":"<ul> <li>Initial schema rollout with core tables: <code>variable_expenses</code>, <code>income_sources</code>, <code>investments</code>, etc.</li> </ul>"},{"location":"database/migrations/#version-2","title":"Version 2","text":"<ul> <li>Added <code>statement_date</code> column to the <code>credit_cards</code> table.</li> </ul>"},{"location":"database/migrations/#version-3","title":"Version 3","text":"<ul> <li>Maintenance migration to ensure <code>statement_date</code> exists across all platforms.</li> </ul>"},{"location":"database/migrations/#version-4","title":"Version 4","text":"<ul> <li>Implemented <code>custom_categories</code> support for personalized tracking.</li> </ul>"},{"location":"database/migrations/#version-5","title":"Version 5","text":"<ul> <li>Core table verification for <code>credit_cards</code> and <code>loans</code> to ensure schema consistency.</li> </ul>"},{"location":"database/migrations/#version-6","title":"Version 6","text":"<ul> <li>Added <code>last_reviewed_at</code> to the <code>budgets</code> table to track budget health.</li> </ul>"},{"location":"database/migrations/#adding-a-new-migration","title":"\ud83d\udee0\ufe0f Adding a New Migration","text":"<ol> <li>Create a new class inheriting from <code>Migration</code>:    <pre><code>class MigrationV7 extends Migration {\n  MigrationV7() : super(7);\n  @override\n  Future&lt;void&gt; up(common.Database db) async {\n    await addColumnSafe(db, 'table_name', 'new_column', 'TEXT');\n  }\n  @override\n  Future&lt;void&gt; down(common.Database db) async {}\n}\n</code></pre></li> <li>Register it in the <code>appMigrations</code> list in <code>lib/data/datasources/database_migrations.dart</code>.</li> <li>Update <code>AppVersion.databaseVersion</code> in <code>lib/core/config/version.dart</code>.</li> </ol>"},{"location":"database/performance/","title":"Database Performance","text":"<p>TrueLedger is designed to remain fast even with thousands of transactions. Here's how we optimize for performance.</p>"},{"location":"database/performance/#optimization-strategies","title":"\ud83d\ude80 Optimization Strategies","text":""},{"location":"database/performance/#1-indexing","title":"1. Indexing","text":"<p>We use indexes on columns frequently used in <code>WHERE</code> clauses and <code>ORDER BY</code> operations: - <code>date</code> columns in <code>variable_expenses</code> and <code>income_sources</code>. - <code>category</code> in <code>variable_expenses</code> for aggregation.</p>"},{"location":"database/performance/#2-batching","title":"2. Batching","text":"<p>When seeding data or importing backups, we use SQLite Transactions and Batches: <pre><code>final batch = database.batch();\nfor (var item in items) {\n  batch.insert(table, item);\n}\nawait batch.commit(noResult: true);\n</code></pre> Batching reduces the number of disk sync operations, speeding up imports by up to 100x compared to individual inserts.</p>"},{"location":"database/performance/#3-asynchronous-operations","title":"3. Asynchronous Operations","text":"<p>All database operations are offloaded to an asynchronous execution pool via <code>sqflite</code>, ensuring the UI thread remains jank-free even during complex aggregations.</p>"},{"location":"database/performance/#4-wasm-performance-web","title":"4. WASM Performance (Web)","text":"<p>On the web, we use <code>sqlite3.wasm</code> which is highly optimized: - Employs IndexedDB for persistence. - Provides near-native speed for most CRUD operations. - Tip: Large queries (&gt;10k rows) on the web should still be chunked to avoid blocking the main JS thread for too long.</p>"},{"location":"database/performance/#benchmarking","title":"\ud83d\udcc8 Benchmarking","text":"<p>We track the performance of critical queries: - Dashboard Load: Aggregates 6 months of data (&lt;50ms on modern devices). - History View: Paginated or chunked fetching for deep history. - Search: Optimized using the <code>LIKE</code> operator on indexed columns.</p>"},{"location":"database/schema/","title":"Database Schema","text":"<p>TrueLedger uses a relational database model to ensure data integrity and complex querying capabilities.</p>"},{"location":"database/schema/#database-technology","title":"\ud83d\uddc4\ufe0f Database Technology","text":"<ul> <li>Mobile &amp; Desktop: SQLite with SQLCipher (AES-256) encryption.</li> <li>Web: SQLite via WASM with IndexedDB persistence.</li> </ul>"},{"location":"database/schema/#tables-relationships","title":"\ud83d\udccb Tables &amp; Relationships","text":""},{"location":"database/schema/#1-income_sources","title":"1. <code>income_sources</code>","text":"<p>Tracks money coming in. - <code>id</code>: INTEGER PRIMARY KEY - <code>source</code>: TEXT (e.g., \"Salary\") - <code>amount</code>: INTEGER (Stored in subunit/cents if needed, currently direct) - <code>date</code>: TEXT (ISO8601)</p>"},{"location":"database/schema/#2-variable_expenses","title":"2. <code>variable_expenses</code>","text":"<p>Primary table for daily spending. - <code>id</code>: INTEGER PRIMARY KEY - <code>date</code>: TEXT (ISO8601) - <code>amount</code>: INTEGER - <code>category</code>: TEXT - <code>note</code>: TEXT</p>"},{"location":"database/schema/#3-fixed_expenses","title":"3. <code>fixed_expenses</code>","text":"<p>Recurring bills. - <code>id</code>: INTEGER PRIMARY KEY - <code>name</code>: TEXT - <code>amount</code>: INTEGER - <code>category</code>: TEXT - <code>date</code>: TEXT (ISO8601)</p>"},{"location":"database/schema/#4-investments","title":"4. <code>investments</code>","text":"<p>Tracks assets. - <code>id</code>: INTEGER PRIMARY KEY - <code>name</code>: TEXT - <code>amount</code>: INTEGER - <code>active</code>: INTEGER (Boolean 0/1) - <code>type</code>: TEXT (e.g., \"Equity\", \"Mutual Fund\") - <code>date</code>: TEXT</p>"},{"location":"database/schema/#5-loans","title":"5. <code>loans</code>","text":"<p>Tracks liabilities. - <code>id</code>: INTEGER PRIMARY KEY - <code>name</code>: TEXT - <code>loan_type</code>: TEXT - <code>total_amount</code>: INTEGER - <code>remaining_amount</code>: INTEGER - <code>emi</code>: INTEGER - <code>interest_rate</code>: REAL - <code>due_date</code>: TEXT - <code>date</code>: TEXT</p>"},{"location":"database/schema/#6-credit_cards","title":"6. <code>credit_cards</code>","text":"<ul> <li><code>id</code>: INTEGER PRIMARY KEY</li> <li><code>bank</code>: TEXT</li> <li><code>credit_limit</code>: INTEGER</li> <li><code>statement_balance</code>: INTEGER</li> <li><code>min_due</code>: INTEGER</li> <li><code>due_date</code>: TEXT</li> <li><code>statement_date</code>: TEXT</li> </ul>"},{"location":"database/schema/#7-budgets","title":"7. <code>budgets</code>","text":"<ul> <li><code>id</code>: INTEGER PRIMARY KEY</li> <li><code>category</code>: TEXT (Unique)</li> <li><code>monthly_limit</code>: INTEGER</li> </ul>"},{"location":"database/schema/#8-saving_goals","title":"8. <code>saving_goals</code>","text":"<ul> <li><code>id</code>: INTEGER PRIMARY KEY</li> <li><code>name</code>: TEXT</li> <li><code>target_amount</code>: INTEGER</li> <li><code>current_amount</code>: INTEGER</li> </ul>"},{"location":"deployment/docker-quickstart/","title":"TrueLedger Docker Setup - Quick Reference","text":""},{"location":"deployment/docker-quickstart/#quick-start","title":"\ud83d\ude80 Quick Start","text":""},{"location":"deployment/docker-quickstart/#option-1-docker-compose-recommended","title":"Option 1: Docker Compose (Recommended)","text":"<p><pre><code>cd docker\ndocker-compose up --build\n</code></pre> Access at: http://localhost:8080</p>"},{"location":"deployment/docker-quickstart/#option-2-docker-cli","title":"Option 2: Docker CLI","text":"<p><pre><code># Build\ndocker build -f docker/Dockerfile -t trueledger-web .\n\n# Run\ndocker run -d -p 8080:80 --name trueledger trueledger-web\n</code></pre> Access at: http://localhost:8080</p>"},{"location":"deployment/docker-quickstart/#docker-files","title":"\ud83d\udcc1 Docker Files","text":"<p>All Docker-related files are in the <code>docker/</code> folder:</p> <pre><code>docker/\n\u251c\u2500\u2500 Dockerfile           # Multi-stage build (Flutter + Nginx)\n\u251c\u2500\u2500 docker-compose.yml   # Compose configuration\n\u251c\u2500\u2500 nginx.conf          # Nginx server config\n\u2514\u2500\u2500 README.md           # Detailed documentation\n</code></pre>"},{"location":"deployment/docker-quickstart/#configuration","title":"\ud83d\udd27 Configuration","text":"<ul> <li>Flutter Image: <code>instrumentisto/flutter:3</code></li> <li>Build Mode: Debug (for seed data demo)</li> <li>Web Server: Nginx Alpine</li> <li>Port: 8080 \u2192 80</li> </ul>"},{"location":"deployment/docker-quickstart/#common-commands","title":"\ud83d\udcdd Common Commands","text":"<pre><code># Build\ndocker build -f docker/Dockerfile -t trueledger-web .\n\n# Run\ndocker run -d -p 8080:80 --name trueledger trueledger-web\n\n# Stop\ndocker stop trueledger\n\n# Remove\ndocker rm trueledger\n\n# Logs\ndocker logs -f trueledger\n\n# Rebuild without cache\ndocker build --no-cache -f docker/Dockerfile -t trueledger-web .\n</code></pre>"},{"location":"deployment/docker-quickstart/#vercel-deployment","title":"\ud83c\udf10 Vercel Deployment","text":"<p>The Docker setup is ready for Vercel deployment. Simply:</p> <ol> <li>Push to GitHub</li> <li>Connect to Vercel</li> <li>Vercel will auto-detect the Dockerfile</li> </ol> <p>Or use Vercel CLI: <pre><code>vercel --prod\n</code></pre></p>"},{"location":"deployment/docker-quickstart/#full-documentation","title":"\ud83d\udcda Full Documentation","text":"<p>See <code>docker/README.md</code> for complete documentation including: - Detailed deployment instructions - Troubleshooting guide - Performance optimization - Production checklist</p>"},{"location":"deployment/docker-quickstart/#verified-working","title":"\u2705 Verified Working","text":"<ul> <li>\u2705 Docker build successful</li> <li>\u2705 Container runs without errors</li> <li>\u2705 Nginx serving Flutter web app</li> <li>\u2705 Debug mode enabled for seed data</li> <li>\u2705 All dependencies included</li> </ul>"},{"location":"design/apple_ui_spec/","title":"trueLedger Design Specification: Premium Apple Design Language","text":"<p>Version: 1.0 Author: Senior UI Designer (Apple Persona) Objective: To elevate trueLedger to a Tier-1 financial companion through rigorous adherence to Apple's Human Interface Guidelines (HIG), refined with modern glassmorphism and tactile feedback.</p>"},{"location":"design/apple_ui_spec/#1-wireframe-structure-information-architecture","title":"1. Wireframe Structure &amp; Information Architecture","text":""},{"location":"design/apple_ui_spec/#a-dashboard-the-nerve-center","title":"A. Dashboard (The Nerve Center)","text":"<ul> <li>Hero Area: <code>WealthHero</code> card occupying the top 35% of the viewport. Dynamic background mesh that reacts to net worth status (Green for growth, Red/Amber for overspent).</li> <li>Quick Insights: Horizontal sliver of <code>AppleGlassCard</code> metrics (Burn Rate, Daily Spend).</li> <li>Timeline: Vertical list of <code>LedgerItems</code> with grouped date headers.</li> </ul>"},{"location":"design/apple_ui_spec/#b-navigation-transitions","title":"B. Navigation &amp; Transitions","text":"<ul> <li>Root Level: Persistent <code>BottomNavigationBar</code> with blur background (<code>ui.ImageFilter</code>).</li> <li>Drill-down: Push/Pop transitions with horizontal slide and scale.</li> <li>Task Flow: Modal sheets (Apple-style rounded corners) for \"Add Transaction\" or \"Edit Loan\".</li> </ul>"},{"location":"design/apple_ui_spec/#2-component-inventory-design-system","title":"2. Component Inventory (Design System)","text":"Component Description Interaction <code>AppleScaffold</code> Multi-layered root with animated mesh background. Scroll-reactive AppBars. <code>AppleGlassCard</code> Content container using <code>BackdropFilter</code> (sigma: 20-30). Subtle scale (0.98x) on press. <code>AppleSectionHeader</code> Upper-case subtitle (tracking: 1.5) over Bold Title. Haptic trigger on action icon. <code>HapticEngine</code> Centralized feedback system using <code>ImpactLight</code>. Tactile confirmation on every tap."},{"location":"design/apple_ui_spec/#3-interaction-design-specifications","title":"3. Interaction Design Specifications","text":""},{"location":"design/apple_ui_spec/#a-motion-language","title":"A. Motion Language","text":"<ul> <li>Entry: <code>slideY(begin: 0.1, end: 0)</code> combined with <code>fadeIn</code>.</li> <li>Focus: Active elements use a 1.02x scale shimmer effect.</li> <li>Curve: <code>Curves.easeOutQuart</code> (The \"Apple\" curve) for natural acceleration/deceleration.</li> </ul>"},{"location":"design/apple_ui_spec/#b-feedback-loops","title":"B. Feedback Loops","text":"<ul> <li>Visual: Ripple effect constrained within the <code>AppleGlassCard</code> borders.</li> <li>Tactile: <code>HapticFeedback.lightImpact()</code> on button release.</li> <li>Auditory: (Optional) Subtle \"tick\" on scroll milestones (TBD).</li> </ul>"},{"location":"design/apple_ui_spec/#4-accessibility-inclusive-design","title":"4. Accessibility &amp; Inclusive Design","text":""},{"location":"design/apple_ui_spec/#a-visual-clarity","title":"A. Visual Clarity","text":"<ul> <li>Contrast: All text must meet 4.5:1 ratio against glass backgrounds.</li> <li>Typography: Using <code>Outfit</code> (or <code>Inter</code> fallback) with weights 400, 600, 800.</li> <li>Dynamic Type: Support for system font scaling up to 200%.</li> </ul>"},{"location":"design/apple_ui_spec/#b-assistive-technology","title":"B. Assistive Technology","text":"<ul> <li>Semantics: Use <code>ExcludeSemantics</code> for decorative gradients and animated mesh spheres to reduce screen reader noise.</li> <li>Focus Management: Explicit <code>FocusNode</code> handling in transaction sheets.</li> <li>Haptics as Cues: Use haptics to confirm successful \"Commit to Ledger\" actions for users with visual impairments.</li> </ul>"},{"location":"design/apple_ui_spec/#5-visual-hierarchy-color-theory","title":"5. Visual Hierarchy &amp; Color Theory","text":"<ul> <li>Primary (Brand): <code>#007AFF</code> (Apple Blue)</li> <li>Success: <code>#34C759</code> (Apple Green)</li> <li>Critical: <code>#FF3B30</code> (Apple Red)</li> <li>Depth: Use of <code>Material.surfaceCombined</code> for dark mode depth layering.</li> </ul>"},{"location":"development/adding-features/","title":"Adding New Features","text":"<p>This guide walks you through adding new features to TrueLedger following Clean Architecture principles.</p>"},{"location":"development/adding-features/#development-workflow","title":"Development Workflow","text":"<p>When adding a new feature, follow this order:</p> <pre><code>1. Domain Layer (Business Logic)\n   \u2193\n2. Data Layer (Implementation)\n   \u2193\n3. Use Case Layer (Orchestration)\n   \u2193\n4. Presentation Layer (UI)\n   \u2193\n5. Tests (Verification)\n</code></pre>"},{"location":"development/adding-features/#step-by-step-example-recurring-transactions","title":"Step-by-Step Example: Recurring Transactions","text":"<p>Let's add a \"Recurring Transactions\" feature from scratch.</p>"},{"location":"development/adding-features/#step-1-define-the-domain-model","title":"Step 1: Define the Domain Model","text":"<p>File: <code>lib/domain/models/models.dart</code></p> <pre><code>class RecurringTransaction {\n  final int id;\n  final String name;\n  final int amount; // in cents\n  final String category;\n  final RecurrenceFrequency frequency;\n  final DateTime startDate;\n  final DateTime? endDate;\n  final bool isActive;\n\n  RecurringTransaction({\n    required this.id,\n    required this.name,\n    required this.amount,\n    required this.category,\n    required this.frequency,\n    required this.startDate,\n    this.endDate,\n    required this.isActive,\n  });\n\n  // Serialization\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'id': id,\n      'name': name,\n      'amount': amount,\n      'category': category,\n      'frequency': frequency.name,\n      'start_date': startDate.toIso8601String(),\n      'end_date': endDate?.toIso8601String(),\n      'is_active': isActive ? 1 : 0,\n    };\n  }\n\n  factory RecurringTransaction.fromMap(Map&lt;String, dynamic&gt; map) {\n    return RecurringTransaction(\n      id: map['id'],\n      name: map['name'],\n      amount: map['amount'],\n      category: map['category'],\n      frequency: RecurrenceFrequency.values.byName(map['frequency']),\n      startDate: DateTime.parse(map['start_date']),\n      endDate: map['end_date'] != null ? DateTime.parse(map['end_date']) : null,\n      isActive: map['is_active'] == 1,\n    );\n  }\n}\n\nenum RecurrenceFrequency {\n  daily,\n  weekly,\n  monthly,\n  yearly,\n}\n</code></pre>"},{"location":"development/adding-features/#step-2-update-repository-interface","title":"Step 2: Update Repository Interface","text":"<p>File: <code>lib/domain/repositories/i_financial_repository.dart</code></p> <pre><code>abstract class IFinancialRepository {\n  // ... existing methods\n\n  // Recurring Transactions\n  Future&lt;List&lt;RecurringTransaction&gt;&gt; getRecurringTransactions();\n  Future&lt;void&gt; addRecurringTransaction(RecurringTransaction transaction);\n  Future&lt;void&gt; updateRecurringTransaction(RecurringTransaction transaction);\n  Future&lt;void&gt; deleteRecurringTransaction(int id);\n  Future&lt;void&gt; toggleRecurringTransaction(int id, bool isActive);\n}\n</code></pre>"},{"location":"development/adding-features/#step-3-implement-repository","title":"Step 3: Implement Repository","text":"<p>File: <code>lib/data/repositories/financial_repository_impl.dart</code></p> <pre><code>class FinancialRepositoryImpl implements IFinancialRepository {\n  // ... existing methods\n\n  @override\n  Future&lt;List&lt;RecurringTransaction&gt;&gt; getRecurringTransactions() async {\n    final db = await AppDatabase.db;\n    final results = await db.query(\n      'recurring_transactions',\n      orderBy: 'start_date DESC',\n    );\n    return results.map((r) =&gt; RecurringTransaction.fromMap(r)).toList();\n  }\n\n  @override\n  Future&lt;void&gt; addRecurringTransaction(RecurringTransaction transaction) async {\n    final db = await AppDatabase.db;\n    await db.insert('recurring_transactions', transaction.toMap());\n  }\n\n  @override\n  Future&lt;void&gt; updateRecurringTransaction(RecurringTransaction transaction) async {\n    final db = await AppDatabase.db;\n    await db.update(\n      'recurring_transactions',\n      transaction.toMap(),\n      where: 'id = ?',\n      whereArgs: [transaction.id],\n    );\n  }\n\n  @override\n  Future&lt;void&gt; deleteRecurringTransaction(int id) async {\n    final db = await AppDatabase.db;\n    await db.delete(\n      'recurring_transactions',\n      where: 'id = ?',\n      whereArgs: [id],\n    );\n  }\n\n  @override\n  Future&lt;void&gt; toggleRecurringTransaction(int id, bool isActive) async {\n    final db = await AppDatabase.db;\n    await db.update(\n      'recurring_transactions',\n      {'is_active': isActive ? 1 : 0},\n      where: 'id = ?',\n      whereArgs: [id],\n    );\n  }\n}\n</code></pre>"},{"location":"development/adding-features/#step-4-create-database-migration","title":"Step 4: Create Database Migration","text":"<p>File: <code>lib/data/datasources/database_migrations.dart</code></p> <pre><code>class Migration5 extends Migration {\n  @override\n  int get version =&gt; 5;\n\n  @override\n  Future&lt;void&gt; migrate(Database db) async {\n    await db.execute('''\n      CREATE TABLE recurring_transactions (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL,\n        amount INTEGER NOT NULL,\n        category TEXT NOT NULL,\n        frequency TEXT NOT NULL,\n        start_date TEXT NOT NULL,\n        end_date TEXT,\n        is_active INTEGER NOT NULL DEFAULT 1\n      )\n    ''');\n  }\n}\n\n// Add to migrations list\nfinal migrations = [\n  Migration1(),\n  Migration2(),\n  Migration3(),\n  Migration4(),\n  Migration5(), // Add new migration\n];\n</code></pre>"},{"location":"development/adding-features/#step-5-create-use-cases","title":"Step 5: Create Use Cases","text":"<p>File: <code>lib/domain/usecases/recurring_transaction_usecases.dart</code></p> <pre><code>import 'package:trueledger/core/utils/result.dart';\nimport 'package:trueledger/domain/models/models.dart';\nimport 'package:trueledger/domain/repositories/i_financial_repository.dart';\nimport 'package:trueledger/domain/usecases/usecase_base.dart';\n\n// Get all recurring transactions\nclass GetRecurringTransactionsUseCase \n    extends UseCase&lt;List&lt;RecurringTransaction&gt;, NoParams&gt; {\n  final IFinancialRepository repository;\n\n  GetRecurringTransactionsUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;List&lt;RecurringTransaction&gt;&gt;&gt; call(NoParams params) async {\n    try {\n      final transactions = await repository.getRecurringTransactions();\n      return Success(transactions);\n    } catch (e) {\n      return Failure(DatabaseFailure(e.toString()));\n    }\n  }\n}\n\n// Add recurring transaction\nclass AddRecurringTransactionUseCase \n    extends UseCase&lt;void, RecurringTransaction&gt; {\n  final IFinancialRepository repository;\n\n  AddRecurringTransactionUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;void&gt;&gt; call(RecurringTransaction params) async {\n    try {\n      // Validation\n      if (params.name.isEmpty) {\n        return Failure(ValidationFailure('Name cannot be empty'));\n      }\n      if (params.amount &lt;= 0) {\n        return Failure(ValidationFailure('Amount must be positive'));\n      }\n\n      await repository.addRecurringTransaction(params);\n      return const Success(null);\n    } catch (e) {\n      return Failure(DatabaseFailure(e.toString()));\n    }\n  }\n}\n\n// Toggle active status\nclass ToggleRecurringTransactionUseCase \n    extends UseCase&lt;void, ToggleRecurringTransactionParams&gt; {\n  final IFinancialRepository repository;\n\n  ToggleRecurringTransactionUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;void&gt;&gt; call(ToggleRecurringTransactionParams params) async {\n    try {\n      await repository.toggleRecurringTransaction(params.id, params.isActive);\n      return const Success(null);\n    } catch (e) {\n      return Failure(DatabaseFailure(e.toString()));\n    }\n  }\n}\n\nclass ToggleRecurringTransactionParams {\n  final int id;\n  final bool isActive;\n\n  ToggleRecurringTransactionParams({\n    required this.id,\n    required this.isActive,\n  });\n}\n</code></pre>"},{"location":"development/adding-features/#step-6-create-providers","title":"Step 6: Create Providers","text":"<p>File: <code>lib/presentation/providers/recurring_providers.dart</code></p> <pre><code>import 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:trueledger/domain/models/models.dart';\nimport 'package:trueledger/domain/usecases/recurring_transaction_usecases.dart';\nimport 'package:trueledger/domain/usecases/usecase_base.dart';\nimport 'package:trueledger/presentation/providers/repository_providers.dart';\n\n// Use case providers\nfinal getRecurringTransactionsUseCaseProvider = \n    Provider&lt;GetRecurringTransactionsUseCase&gt;((ref) {\n  return GetRecurringTransactionsUseCase(\n    ref.watch(financialRepositoryProvider),\n  );\n});\n\nfinal addRecurringTransactionUseCaseProvider = \n    Provider&lt;AddRecurringTransactionUseCase&gt;((ref) {\n  return AddRecurringTransactionUseCase(\n    ref.watch(financialRepositoryProvider),\n  );\n});\n\nfinal toggleRecurringTransactionUseCaseProvider = \n    Provider&lt;ToggleRecurringTransactionUseCase&gt;((ref) {\n  return ToggleRecurringTransactionUseCase(\n    ref.watch(financialRepositoryProvider),\n  );\n});\n\n// State provider\nfinal recurringTransactionsProvider = \n    FutureProvider&lt;List&lt;RecurringTransaction&gt;&gt;((ref) async {\n  final useCase = ref.watch(getRecurringTransactionsUseCaseProvider);\n  final result = await useCase(NoParams());\n  return result.getOrThrow;\n});\n</code></pre>"},{"location":"development/adding-features/#step-7-create-ui-screen","title":"Step 7: Create UI Screen","text":"<p>File: <code>lib/presentation/screens/recurring_transactions_screen.dart</code></p> <pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:trueledger/domain/models/models.dart';\nimport 'package:trueledger/presentation/providers/recurring_providers.dart';\n\nclass RecurringTransactionsScreen extends ConsumerWidget {\n  const RecurringTransactionsScreen({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final transactionsAsync = ref.watch(recurringTransactionsProvider);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Recurring Transactions'),\n      ),\n      body: transactionsAsync.when(\n        loading: () =&gt; const Center(child: CircularProgressIndicator()),\n        error: (err, stack) =&gt; Center(child: Text('Error: $err')),\n        data: (transactions) {\n          if (transactions.isEmpty) {\n            return const Center(\n              child: Text('No recurring transactions yet'),\n            );\n          }\n\n          return ListView.builder(\n            itemCount: transactions.length,\n            itemBuilder: (context, index) {\n              final transaction = transactions[index];\n              return _RecurringTransactionTile(transaction: transaction);\n            },\n          );\n        },\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          // Navigate to add screen\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; const AddRecurringTransactionScreen(),\n            ),\n          );\n        },\n        child: const Icon(Icons.add),\n      ),\n    );\n  }\n}\n\nclass _RecurringTransactionTile extends ConsumerWidget {\n  final RecurringTransaction transaction;\n\n  const _RecurringTransactionTile({required this.transaction});\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    return ListTile(\n      leading: Icon(\n        _getFrequencyIcon(transaction.frequency),\n        color: transaction.isActive ? Colors.green : Colors.grey,\n      ),\n      title: Text(transaction.name),\n      subtitle: Text(\n        '${transaction.category} \u2022 ${transaction.frequency.name}',\n      ),\n      trailing: Row(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          Text(\n            '\\$${(transaction.amount / 100).toStringAsFixed(2)}',\n            style: Theme.of(context).textTheme.titleMedium,\n          ),\n          Switch(\n            value: transaction.isActive,\n            onChanged: (value) async {\n              final useCase = ref.read(toggleRecurringTransactionUseCaseProvider);\n              await useCase(ToggleRecurringTransactionParams(\n                id: transaction.id,\n                isActive: value,\n              ));\n              ref.invalidate(recurringTransactionsProvider);\n            },\n          ),\n        ],\n      ),\n    );\n  }\n\n  IconData _getFrequencyIcon(RecurrenceFrequency frequency) {\n    switch (frequency) {\n      case RecurrenceFrequency.daily:\n        return Icons.today;\n      case RecurrenceFrequency.weekly:\n        return Icons.date_range;\n      case RecurrenceFrequency.monthly:\n        return Icons.calendar_month;\n      case RecurrenceFrequency.yearly:\n        return Icons.calendar_today;\n    }\n  }\n}\n</code></pre>"},{"location":"development/adding-features/#step-8-write-tests","title":"Step 8: Write Tests","text":"<p>File: <code>test/unit/domain/usecases/get_recurring_transactions_usecase_test.dart</code></p> <pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:trueledger/domain/models/models.dart';\nimport 'package:trueledger/domain/repositories/i_financial_repository.dart';\nimport 'package:trueledger/domain/usecases/recurring_transaction_usecases.dart';\nimport 'package:trueledger/domain/usecases/usecase_base.dart';\n\nclass MockFinancialRepository extends Mock implements IFinancialRepository {}\n\nvoid main() {\n  late MockFinancialRepository mockRepo;\n  late GetRecurringTransactionsUseCase useCase;\n\n  setUp(() {\n    mockRepo = MockFinancialRepository();\n    useCase = GetRecurringTransactionsUseCase(mockRepo);\n  });\n\n  test('GetRecurringTransactionsUseCase returns transactions', () async {\n    // Arrange\n    final transactions = [\n      RecurringTransaction(\n        id: 1,\n        name: 'Netflix',\n        amount: 1599,\n        category: 'Entertainment',\n        frequency: RecurrenceFrequency.monthly,\n        startDate: DateTime(2026, 1, 1),\n        isActive: true,\n      ),\n    ];\n\n    when(() =&gt; mockRepo.getRecurringTransactions())\n        .thenAnswer((_) async =&gt; transactions);\n\n    // Act\n    final result = await useCase(NoParams());\n\n    // Assert\n    expect(result.isSuccess, true);\n    expect(result.getOrThrow.length, 1);\n    expect(result.getOrThrow.first.name, 'Netflix');\n    verify(() =&gt; mockRepo.getRecurringTransactions()).called(1);\n  });\n\n  test('GetRecurringTransactionsUseCase handles errors', () async {\n    // Arrange\n    when(() =&gt; mockRepo.getRecurringTransactions())\n        .thenThrow(Exception('Database error'));\n\n    // Act\n    final result = await useCase(NoParams());\n\n    // Assert\n    expect(result.isFailure, true);\n  });\n}\n</code></pre>"},{"location":"development/adding-features/#best-practices","title":"Best Practices","text":""},{"location":"development/adding-features/#1-follow-the-dependency-rule","title":"1. Follow the Dependency Rule","text":"<p>\u2705 DO: Depend on abstractions (interfaces) <pre><code>class MyUseCase {\n  final IFinancialRepository repository; // Interface\n}\n</code></pre></p> <p>\u274c DON'T: Depend on concrete implementations <pre><code>class MyUseCase {\n  final FinancialRepositoryImpl repository; // Concrete class\n}\n</code></pre></p>"},{"location":"development/adding-features/#2-keep-use-cases-single-purpose","title":"2. Keep Use Cases Single-Purpose","text":"<p>\u2705 DO: One use case per operation <pre><code>class GetRecurringTransactionsUseCase { ... }\nclass AddRecurringTransactionUseCase { ... }\n</code></pre></p> <p>\u274c DON'T: Combine multiple operations <pre><code>class RecurringTransactionUseCase {\n  Future&lt;List&gt; get() { ... }\n  Future&lt;void&gt; add() { ... }\n  Future&lt;void&gt; delete() { ... }\n}\n</code></pre></p>"},{"location":"development/adding-features/#3-use-result-pattern-for-error-handling","title":"3. Use Result Pattern for Error Handling","text":"<p>\u2705 DO: Return <code>Result&lt;T&gt;</code> <pre><code>Future&lt;Result&lt;List&lt;Transaction&gt;&gt;&gt; getTransactions() async {\n  try {\n    final data = await repository.getTransactions();\n    return Success(data);\n  } catch (e) {\n    return Failure(DatabaseFailure(e.toString()));\n  }\n}\n</code></pre></p> <p>\u274c DON'T: Throw exceptions <pre><code>Future&lt;List&lt;Transaction&gt;&gt; getTransactions() async {\n  return await repository.getTransactions(); // May throw\n}\n</code></pre></p>"},{"location":"development/adding-features/#4-test-every-layer","title":"4. Test Every Layer","text":"<ul> <li>\u2705 Unit test use cases</li> <li>\u2705 Widget test screens</li> <li>\u2705 Integration test flows</li> </ul>"},{"location":"development/adding-features/#5-use-absolute-imports","title":"5. Use Absolute Imports","text":"<p>\u2705 DO: Use package imports <pre><code>import 'package:trueledger/domain/models/models.dart';\n</code></pre></p> <p>\u274c DON'T: Use relative imports <pre><code>import '../../domain/models/models.dart';\n</code></pre></p>"},{"location":"development/adding-features/#checklist","title":"Checklist","text":"<p>Before submitting your feature:</p> <ul> <li>[ ] Domain model defined</li> <li>[ ] Repository interface updated</li> <li>[ ] Repository implementation added</li> <li>[ ] Database migration created (if needed)</li> <li>[ ] Use cases implemented</li> <li>[ ] Providers created</li> <li>[ ] UI screen implemented</li> <li>[ ] Unit tests written</li> <li>[ ] Widget tests written (if applicable)</li> <li>[ ] Integration tests written (if applicable)</li> <li>[ ] All tests passing (<code>flutter test</code>)</li> <li>[ ] No analyzer issues (<code>flutter analyze</code>)</li> <li>[ ] Code formatted (<code>dart format .</code>)</li> <li>[ ] Documentation updated</li> </ul>"},{"location":"development/adding-features/#next-steps","title":"Next Steps","text":"<ul> <li>Testing Guide - Learn how to write tests</li> <li>Design Patterns - Common patterns used</li> <li>Code Style - Coding conventions</li> <li>Architecture Overview - Understand the architecture</li> </ul>"},{"location":"development/design-patterns/","title":"Design Patterns","text":"<p>TrueLedger leverages several design patterns to maintain clean, testable, and maintainable code.</p>"},{"location":"development/design-patterns/#repository-pattern","title":"Repository Pattern","text":"<p>The Repository Pattern abstracts data access logic and provides a clean API for the domain layer.</p>"},{"location":"development/design-patterns/#purpose","title":"Purpose","text":"<ul> <li>Decouple business logic from data access implementation</li> <li>Provide a single source of truth for data operations</li> <li>Enable easy testing with mock implementations</li> <li>Allow swapping data sources without affecting business logic</li> </ul>"},{"location":"development/design-patterns/#implementation","title":"Implementation","text":"<pre><code>// Domain Layer: Interface\nabstract class IFinancialRepository {\n  Future&lt;List&lt;Budget&gt;&gt; getBudgets();\n  Future&lt;void&gt; addBudget(Budget budget);\n  Future&lt;void&gt; updateBudget(int id, int monthlyLimit);\n  Future&lt;void&gt; deleteBudget(int id);\n}\n\n// Data Layer: Implementation\nclass FinancialRepositoryImpl implements IFinancialRepository {\n  @override\n  Future&lt;List&lt;Budget&gt;&gt; getBudgets() async {\n    final db = await AppDatabase.db;\n    final results = await db.query('budgets');\n    return results.map((r) =&gt; Budget.fromMap(r)).toList();\n  }\n\n  @override\n  Future&lt;void&gt; addBudget(Budget budget) async {\n    final db = await AppDatabase.db;\n    await db.insert('budgets', budget.toMap());\n  }\n\n  // ... other implementations\n}\n</code></pre>"},{"location":"development/design-patterns/#benefits","title":"Benefits","text":"<ul> <li>Testability: Easy to mock for unit tests</li> <li>Flexibility: Swap SQLite for another database</li> <li>Separation: Business logic doesn't know about database details</li> </ul>"},{"location":"development/design-patterns/#use-case-pattern","title":"Use Case Pattern","text":"<p>The Use Case Pattern encapsulates a single business operation.</p>"},{"location":"development/design-patterns/#purpose_1","title":"Purpose","text":"<ul> <li>Single Responsibility: One use case = one operation</li> <li>Reusability: Use cases can be composed</li> <li>Testability: Easy to test business logic in isolation</li> <li>Clear intent: Use case name describes what it does</li> </ul>"},{"location":"development/design-patterns/#implementation_1","title":"Implementation","text":"<pre><code>// Base class\nabstract class UseCase&lt;T, Params&gt; {\n  Future&lt;Result&lt;T&gt;&gt; call(Params params);\n}\n\n// Concrete use case\nclass GetBudgetsUseCase extends UseCase&lt;List&lt;Budget&gt;, NoParams&gt; {\n  final IFinancialRepository repository;\n\n  GetBudgetsUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;List&lt;Budget&gt;&gt;&gt; call(NoParams params) async {\n    try {\n      final budgets = await repository.getBudgets();\n      return Success(budgets);\n    } catch (e) {\n      return Failure(DatabaseFailure(e.toString()));\n    }\n  }\n}\n\n// Usage\nfinal useCase = GetBudgetsUseCase(repository);\nfinal result = await useCase(NoParams());\n</code></pre>"},{"location":"development/design-patterns/#benefits_1","title":"Benefits","text":"<ul> <li>Clear boundaries: Each use case has a single purpose</li> <li>Composable: Use cases can call other use cases</li> <li>Testable: Mock repository, test business logic</li> </ul>"},{"location":"development/design-patterns/#result-pattern","title":"Result Pattern","text":"<p>The Result Pattern provides type-safe error handling without exceptions.</p>"},{"location":"development/design-patterns/#purpose_2","title":"Purpose","text":"<ul> <li>Make errors explicit in the type system</li> <li>Avoid hidden exceptions</li> <li>Force error handling at compile time</li> <li>Provide better error information</li> </ul>"},{"location":"development/design-patterns/#implementation_2","title":"Implementation","text":"<pre><code>// Result type\nsealed class Result&lt;T&gt; {\n  const Result();\n\n  bool get isSuccess =&gt; this is Success&lt;T&gt;;\n  bool get isFailure =&gt; this is Failure&lt;T&gt;;\n\n  T get getOrThrow;\n  AppFailure get failureOrThrow;\n}\n\nclass Success&lt;T&gt; extends Result&lt;T&gt; {\n  final T value;\n  const Success(this.value);\n\n  @override\n  T get getOrThrow =&gt; value;\n\n  @override\n  AppFailure get failureOrThrow =&gt; throw StateError('Not a failure');\n}\n\nclass Failure&lt;T&gt; extends Result&lt;T&gt; {\n  final AppFailure failure;\n  const Failure(this.failure);\n\n  @override\n  T get getOrThrow =&gt; throw failure;\n\n  @override\n  AppFailure get failureOrThrow =&gt; failure;\n}\n\n// Failure types\nabstract class AppFailure {\n  final String message;\n  const AppFailure(this.message);\n}\n\nclass DatabaseFailure extends AppFailure {\n  const DatabaseFailure(String message) : super(message);\n}\n\nclass ValidationFailure extends AppFailure {\n  const ValidationFailure(String message) : super(message);\n}\n</code></pre>"},{"location":"development/design-patterns/#usage","title":"Usage","text":"<pre><code>// Return Result\nFuture&lt;Result&lt;Budget&gt;&gt; getBudget(int id) async {\n  try {\n    final budget = await repository.getBudget(id);\n    return Success(budget);\n  } catch (e) {\n    return Failure(DatabaseFailure(e.toString()));\n  }\n}\n\n// Handle Result\nfinal result = await getBudget(1);\n\nif (result.isSuccess) {\n  final budget = result.getOrThrow;\n  print('Budget: ${budget.category}');\n} else {\n  final failure = result.failureOrThrow;\n  print('Error: ${failure.message}');\n}\n</code></pre>"},{"location":"development/design-patterns/#benefits_2","title":"Benefits","text":"<ul> <li>Type safety: Errors are visible in type signatures</li> <li>Explicit: Cannot ignore errors</li> <li>Testable: Easy to test error cases</li> </ul>"},{"location":"development/design-patterns/#provider-pattern","title":"Provider Pattern","text":"<p>The Provider Pattern (via Riverpod) handles dependency injection and state management.</p>"},{"location":"development/design-patterns/#purpose_3","title":"Purpose","text":"<ul> <li>Dependency injection without boilerplate</li> <li>State management with compile-time safety</li> <li>Scoped rebuilds for performance</li> <li>Easy testing with overrides</li> </ul>"},{"location":"development/design-patterns/#implementation_3","title":"Implementation","text":"<pre><code>// Level 1: Repository Provider\nfinal financialRepositoryProvider = Provider&lt;IFinancialRepository&gt;((ref) {\n  return FinancialRepositoryImpl();\n});\n\n// Level 2: Use Case Provider\nfinal getBudgetsUseCaseProvider = Provider&lt;GetBudgetsUseCase&gt;((ref) {\n  return GetBudgetsUseCase(ref.watch(financialRepositoryProvider));\n});\n\n// Level 3: State Provider\nfinal budgetsProvider = FutureProvider&lt;List&lt;Budget&gt;&gt;((ref) async {\n  final useCase = ref.watch(getBudgetsUseCaseProvider);\n  final result = await useCase(NoParams());\n  return result.getOrThrow;\n});\n\n// Level 4: UI\nclass BudgetsScreen extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final budgetsAsync = ref.watch(budgetsProvider);\n\n    return budgetsAsync.when(\n      loading: () =&gt; CircularProgressIndicator(),\n      error: (err, stack) =&gt; Text('Error: $err'),\n      data: (budgets) =&gt; BudgetsList(budgets: budgets),\n    );\n  }\n}\n</code></pre>"},{"location":"development/design-patterns/#benefits_3","title":"Benefits","text":"<ul> <li>No boilerplate: No manual dependency injection</li> <li>Compile-time safety: Errors caught at compile time</li> <li>Testability: Easy to override providers in tests</li> <li>Performance: Fine-grained rebuilds</li> </ul>"},{"location":"development/design-patterns/#summary","title":"Summary","text":"<p>TrueLedger uses these patterns to achieve:</p> <ul> <li>Clean Architecture: Repository, Use Case, Result patterns</li> <li>Dependency Injection: Provider pattern</li> <li>Error Handling: Result pattern</li> <li>State Management: Observer pattern (via Riverpod)</li> </ul> <p>Each pattern serves a specific purpose and works together to create a maintainable, testable codebase.</p>"},{"location":"development/design-patterns/#next-steps","title":"Next Steps","text":"<ul> <li>Architecture Overview - See how patterns fit together</li> <li>Adding Features - Apply patterns in practice</li> <li>Error Handling - Deep dive into Result pattern</li> </ul>"},{"location":"development/error-handling/","title":"Error &amp; Failure Handling","text":"<p>This guide explains how TrueLedger handles errors using the Result Pattern for type-safe, explicit error handling.</p>"},{"location":"development/error-handling/#overview","title":"Overview","text":"<p>TrueLedger uses a <code>Result&lt;T&gt;</code> type instead of throwing exceptions. This makes errors: - Visible in the type signature - Explicit and impossible to ignore - Type-safe and caught at compile time - Testable without try-catch blocks</p>"},{"location":"development/error-handling/#the-result-type","title":"The Result Type","text":""},{"location":"development/error-handling/#definition","title":"Definition","text":"<pre><code>// lib/core/utils/result.dart\n\nsealed class Result&lt;T&gt; {\n  const Result();\n\n  bool get isSuccess =&gt; this is Success&lt;T&gt;;\n  bool get isFailure =&gt; this is Failure&lt;T&gt;;\n\n  T get getOrThrow;\n  AppFailure get failureOrThrow;\n}\n\nclass Success&lt;T&gt; extends Result&lt;T&gt; {\n  final T value;\n  const Success(this.value);\n\n  @override\n  T get getOrThrow =&gt; value;\n\n  @override\n  AppFailure get failureOrThrow =&gt; throw StateError('Not a failure');\n}\n\nclass Failure&lt;T&gt; extends Result&lt;T&gt; {\n  final AppFailure failure;\n  const Failure(this.failure);\n\n  @override\n  T get getOrThrow =&gt; throw failure;\n\n  @override\n  AppFailure get failureOrThrow =&gt; failure;\n}\n</code></pre>"},{"location":"development/error-handling/#usage","title":"Usage","text":"<pre><code>// Return a Result\nFuture&lt;Result&lt;Budget&gt;&gt; getBudget(int id) async {\n  try {\n    final budget = await repository.getBudget(id);\n    return Success(budget);\n  } catch (e) {\n    return Failure(DatabaseFailure(e.toString()));\n  }\n}\n\n// Handle a Result\nfinal result = await getBudget(1);\n\nif (result.isSuccess) {\n  final budget = result.getOrThrow;\n  print('Budget: ${budget.category}');\n} else {\n  final failure = result.failureOrThrow;\n  print('Error: ${failure.message}');\n}\n</code></pre>"},{"location":"development/error-handling/#appfailure-types","title":"AppFailure Types","text":"<p>All failures in TrueLedger extend <code>AppFailure</code>:</p> <pre><code>// lib/core/error/failure.dart\n\nabstract class AppFailure {\n  final String message;\n  const AppFailure(this.message);\n\n  @override\n  String toString() =&gt; message;\n}\n\n// Database errors\nclass DatabaseFailure extends AppFailure {\n  const DatabaseFailure(String message) : super(message);\n}\n\n// Validation errors\nclass ValidationFailure extends AppFailure {\n  const ValidationFailure(String message) : super(message);\n}\n\n// File system errors\nclass FileSystemFailure extends AppFailure {\n  const FileSystemFailure(String message) : super(message);\n}\n\n// Parsing errors\nclass ParsingFailure extends AppFailure {\n  const ParsingFailure(String message) : super(message);\n}\n\n// Generic errors\nclass UnexpectedFailure extends AppFailure {\n  const UnexpectedFailure(String message) : super(message);\n}\n</code></pre>"},{"location":"development/error-handling/#where-failures-are-created","title":"Where Failures Are Created","text":""},{"location":"development/error-handling/#1-repository-layer-data","title":"1. Repository Layer (Data)","text":"<p>Repositories catch exceptions and convert them to failures:</p> <pre><code>class FinancialRepositoryImpl implements IFinancialRepository {\n  @override\n  Future&lt;Result&lt;List&lt;Budget&gt;&gt;&gt; getBudgets() async {\n    try {\n      final db = await AppDatabase.db;\n      final results = await db.query('budgets');\n      final budgets = results.map((r) =&gt; Budget.fromMap(r)).toList();\n      return Success(budgets);\n    } on DatabaseException catch (e) {\n      return Failure(DatabaseFailure('Failed to get budgets: ${e.message}'));\n    } catch (e) {\n      return Failure(UnexpectedFailure(e.toString()));\n    }\n  }\n\n  @override\n  Future&lt;Result&lt;void&gt;&gt; addBudget(Budget budget) async {\n    try {\n      final db = await AppDatabase.db;\n      await db.insert('budgets', budget.toMap());\n      return const Success(null);\n    } on DatabaseException catch (e) {\n      return Failure(DatabaseFailure('Failed to add budget: ${e.message}'));\n    } catch (e) {\n      return Failure(UnexpectedFailure(e.toString()));\n    }\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#2-use-case-layer-domain","title":"2. Use Case Layer (Domain)","text":"<p>Use cases add validation failures and pass through repository failures:</p> <pre><code>class AddBudgetUseCase extends UseCase&lt;void, AddBudgetParams&gt; {\n  final IFinancialRepository repository;\n\n  AddBudgetUseCase(this.repository);\n\n  @override\n  Future&lt;Result&lt;void&gt;&gt; call(AddBudgetParams params) async {\n    // Validation (creates ValidationFailure)\n    if (params.category.isEmpty) {\n      return const Failure(ValidationFailure('Category cannot be empty'));\n    }\n\n    if (params.monthlyLimit &lt;= 0) {\n      return const Failure(ValidationFailure('Monthly limit must be positive'));\n    }\n\n    // Delegate to repository (may return DatabaseFailure)\n    return await repository.addBudget(params.toBudget());\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#3-service-layer-domaincore","title":"3. Service Layer (Domain/Core)","text":"<p>Services can also create failures:</p> <pre><code>class NotificationService {\n  Future&lt;Result&lt;void&gt;&gt; scheduleNotification(String title, String body) async {\n    try {\n      await flutterLocalNotificationsPlugin.show(...);\n      return const Success(null);\n    } catch (e) {\n      return Failure(UnexpectedFailure('Failed to schedule notification: $e'));\n    }\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#how-ui-must-handle-failures","title":"How UI Must Handle Failures","text":""},{"location":"development/error-handling/#1-in-providers-presentation","title":"1. In Providers (Presentation)","text":"<p>Providers can either: - Pass failures through (let UI handle them) - Convert to exceptions (for FutureProvider error state)</p>"},{"location":"development/error-handling/#option-a-pass-through-recommended-for-statenotifier","title":"Option A: Pass Through (Recommended for StateNotifier)","text":"<pre><code>class BudgetNotifier extends StateNotifier&lt;AsyncValue&lt;List&lt;Budget&gt;&gt;&gt; {\n  final GetBudgetsUseCase getBudgetsUseCase;\n\n  BudgetNotifier(this.getBudgetsUseCase) : super(const AsyncValue.loading()) {\n    loadBudgets();\n  }\n\n  Future&lt;void&gt; loadBudgets() async {\n    state = const AsyncValue.loading();\n\n    final result = await getBudgetsUseCase(NoParams());\n\n    state = result.isSuccess\n        ? AsyncValue.data(result.getOrThrow)\n        : AsyncValue.error(result.failureOrThrow, StackTrace.current);\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#option-b-throw-for-futureprovider","title":"Option B: Throw (For FutureProvider)","text":"<pre><code>final budgetsProvider = FutureProvider&lt;List&lt;Budget&gt;&gt;((ref) async {\n  final useCase = ref.watch(getBudgetsUseCaseProvider);\n  final result = await useCase(NoParams());\n\n  // Throws if failure, caught by FutureProvider\n  return result.getOrThrow;\n});\n</code></pre>"},{"location":"development/error-handling/#2-in-widgets-presentation","title":"2. In Widgets (Presentation)","text":"<p>Widgets handle failures in the UI:</p> <pre><code>class BudgetsScreen extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final budgetsAsync = ref.watch(budgetsProvider);\n\n    return budgetsAsync.when(\n      loading: () =&gt; const CircularProgressIndicator(),\n\n      // Handle errors\n      error: (error, stack) {\n        if (error is ValidationFailure) {\n          return ErrorView(\n            icon: Icons.warning,\n            message: error.message,\n            action: 'Fix Input',\n          );\n        } else if (error is DatabaseFailure) {\n          return ErrorView(\n            icon: Icons.error,\n            message: 'Database error: ${error.message}',\n            action: 'Retry',\n            onAction: () =&gt; ref.refresh(budgetsProvider),\n          );\n        } else {\n          return ErrorView(\n            icon: Icons.error_outline,\n            message: 'Unexpected error: $error',\n            action: 'Report',\n          );\n        }\n      },\n\n      // Handle success\n      data: (budgets) =&gt; BudgetsList(budgets: budgets),\n    );\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#3-user-friendly-error-messages","title":"3. User-Friendly Error Messages","text":"<p>Map technical failures to user-friendly messages:</p> <pre><code>String getUserMessage(AppFailure failure) {\n  if (failure is ValidationFailure) {\n    return failure.message; // Already user-friendly\n  } else if (failure is DatabaseFailure) {\n    return 'Unable to access your data. Please try again.';\n  } else if (failure is FileSystemFailure) {\n    return 'Unable to save file. Check storage permissions.';\n  } else {\n    return 'Something went wrong. Please try again later.';\n  }\n}\n</code></pre>"},{"location":"development/error-handling/#best-practices","title":"Best Practices","text":""},{"location":"development/error-handling/#do","title":"\u2705 DO","text":"<ol> <li> <p>Always return Result from use cases and repositories <pre><code>Future&lt;Result&lt;Budget&gt;&gt; getBudget(int id);\n</code></pre></p> </li> <li> <p>Create specific failure types <pre><code>class BudgetNotFoundFailure extends AppFailure {\n  const BudgetNotFoundFailure(int id) : super('Budget $id not found');\n}\n</code></pre></p> </li> <li> <p>Handle all failure cases in UI <pre><code>error: (error, stack) {\n  if (error is ValidationFailure) { ... }\n  else if (error is DatabaseFailure) { ... }\n  else { ... }\n}\n</code></pre></p> </li> <li> <p>Provide user-friendly error messages <pre><code>'Unable to save budget. Please check your input.'\n</code></pre></p> </li> <li> <p>Log technical details for debugging <pre><code>debugPrint('DatabaseFailure: ${failure.message}');\n</code></pre></p> </li> </ol>"},{"location":"development/error-handling/#dont","title":"\u274c DON'T","text":"<ol> <li> <p>Don't throw exceptions for business errors <pre><code>// \u274c WRONG\nif (amount &lt;= 0) throw Exception('Invalid amount');\n\n// \u2705 CORRECT\nif (amount &lt;= 0) return Failure(ValidationFailure('Amount must be positive'));\n</code></pre></p> </li> <li> <p>Don't ignore failures <pre><code>// \u274c WRONG\nfinal result = await getBudget(1);\nfinal budget = result.getOrThrow; // May throw!\n\n// \u2705 CORRECT\nfinal result = await getBudget(1);\nif (result.isSuccess) {\n  final budget = result.getOrThrow;\n}\n</code></pre></p> </li> <li> <p>Don't create generic error messages <pre><code>// \u274c WRONG\nreturn Failure(UnexpectedFailure('Error'));\n\n// \u2705 CORRECT\nreturn Failure(DatabaseFailure('Failed to insert budget: ${e.message}'));\n</code></pre></p> </li> <li> <p>Don't catch and rethrow <pre><code>// \u274c WRONG\ntry {\n  return await repository.getBudget(id);\n} catch (e) {\n  throw e; // Pointless\n}\n\n// \u2705 CORRECT\nreturn await repository.getBudget(id); // Let it return Result\n</code></pre></p> </li> </ol>"},{"location":"development/error-handling/#testing-failures","title":"Testing Failures","text":""},{"location":"development/error-handling/#unit-tests","title":"Unit Tests","text":"<pre><code>test('AddBudgetUseCase returns ValidationFailure for empty category', () async {\n  final useCase = AddBudgetUseCase(mockRepo);\n\n  final result = await useCase(AddBudgetParams(\n    category: '',\n    monthlyLimit: 500,\n  ));\n\n  expect(result.isFailure, true);\n  expect(result.failureOrThrow, isA&lt;ValidationFailure&gt;());\n  expect(result.failureOrThrow.message, contains('Category cannot be empty'));\n});\n\ntest('GetBudgetsUseCase returns DatabaseFailure on error', () async {\n  when(() =&gt; mockRepo.getBudgets())\n      .thenAnswer((_) async =&gt; Failure(DatabaseFailure('Connection failed')));\n\n  final useCase = GetBudgetsUseCase(mockRepo);\n  final result = await useCase(NoParams());\n\n  expect(result.isFailure, true);\n  expect(result.failureOrThrow, isA&lt;DatabaseFailure&gt;());\n});\n</code></pre>"},{"location":"development/error-handling/#widget-tests","title":"Widget Tests","text":"<pre><code>testWidgets('Shows error message on DatabaseFailure', (tester) async {\n  await tester.pumpWidget(\n    ProviderScope(\n      overrides: [\n        budgetsProvider.overrideWith((ref) async {\n          throw DatabaseFailure('Connection failed');\n        }),\n      ],\n      child: MaterialApp(home: BudgetsScreen()),\n    ),\n  );\n\n  await tester.pumpAndSettle();\n\n  expect(find.text('Unable to access your data'), findsOneWidget);\n  expect(find.text('Retry'), findsOneWidget);\n});\n</code></pre>"},{"location":"development/error-handling/#summary","title":"Summary","text":"<ul> <li>Result Pattern: Use <code>Result&lt;T&gt;</code> for all operations that can fail</li> <li>AppFailure: Create specific failure types for different error categories</li> <li>Repositories: Convert exceptions to failures</li> <li>Use Cases: Add validation failures</li> <li>UI: Handle all failure types with user-friendly messages</li> <li>Never: Throw exceptions for business errors</li> </ul> <p>This approach makes errors explicit, type-safe, and impossible to ignore, leading to more robust and maintainable code.</p>"},{"location":"features/ai-insights/","title":"AI-Powered Insights","text":"<p>TrueLedger features a built-in, local Intelligence Service that algorithmically analyzes your daily and monthly financial behaviors. It uses pattern matching and linear prediction to surface actionable, personalized financial advice directly to your dashboard without sending your data to any external server.</p>"},{"location":"features/ai-insights/#core-capabilities","title":"\ud83e\uddec Core Capabilities","text":"<p>TrueLedger automatically generates and prioritizes insights based on your recent activity:</p> <ul> <li>\ud83d\udcc8 Wealth Projections (Prediction): If you possess a high savings rate, the engine calculates your projected yearly net-worth growth, benchmarking it against recommended financial models.</li> <li>\u26a0\ufe0f Critical Overspending: Detects monthly outflow deficits (spending more than you earn) and measures the percentage variance against your 3-month trailing average to spot abnormal surges.</li> <li>\ud83d\udcca Spending Forecasts: Runs linear regression on your past spending paths to calculate velocity and warn you if next month's outflow is on track to surge dramatically.</li> <li>\ud83d\udee1\ufe0f Budget Discipline: Computes total \"budget overflow\" across all tracked categories, immediately warning you of how much cash is leaking past your set limitations.</li> <li>\ud83e\udddf Subscription Leakage &amp; Burn Rate:</li> <li>Highlights when recurring services consume a disproportionate percentage (e.g., &gt;10%) of your income.</li> <li>Generates a \"Burn Rate Warning\" representing exactly how many days your liquid assets will last if your income suddenly stops, based on your absolute fixed mandatory obligations.</li> <li>\u23f3 True Cost Analysis: Automatically cross-references your largest spending category against your effective hourly working wage, translating expenditures into the jarring metric of \"hours of your life worked\".</li> <li>\u2728 Guilt-Free Allowance (Gamification): Positively reinforces excellent behavior by detecting high savings rates (&gt;20%), explicitly granting you permission to spend the remaining baseline amount guilt-free.</li> </ul>"},{"location":"features/ai-insights/#insight-prioritization-engine","title":"\u2699\ufe0f Insight Prioritization Engine","text":"<p>To prevent \"notification fatigue\", TrueLedger enforces strict display rules: - High Priority (Deficits, Burn Rates, Major Projections): Exactly one is allowed to interrupt your dashboard view per day. - Medium Priority (General Forecasts, Budget Overflows): Capped at two concurrent displays if no high-priority insight exists. - Cooldowns: Each unique insight class has a psychological cooldown (ranging from 1 day to 30 days) ensuring you aren't nagged repeatedly about the same metric until adequate time passes for your behavior to change.</p>"},{"location":"features/ai-insights/#upcoming-ai-features","title":"\ud83d\ude80 Upcoming AI Features","text":"<ul> <li>Natural Language Query: Look forward to interacting with a local model asking \"How much did I spend on coffee last month?\"</li> <li>Auto-Categorization: Heuristics and small-model prediction to pre-fill categorizations for your transactions.</li> </ul>"},{"location":"features/analytics/","title":"Analytics &amp; Analysis","text":"<p>The Analysis tab provides deep insights into your financial behavior.</p>"},{"location":"features/analytics/#spending-trends","title":"\ud83d\udcc8 Spending Trends","text":"<ul> <li>View your Income vs Expenses trend over the last 6 months.</li> <li>Identify seasonality in your spending (e.g., higher expenses in December).</li> </ul>"},{"location":"features/analytics/#category-distribution","title":"\ud83d\udcca Category Distribution","text":"<ul> <li>A detailed breakdown of your monthly spending by category.</li> <li>Helps identify \"Fat\" categories where you can potentially cut back.</li> </ul>"},{"location":"features/analytics/#monthly-history","title":"\ud83d\uddd3\ufe0f Monthly History","text":"<ul> <li>High-level summary of your net earnings (Income - Expenses - Investments) for every month on record.</li> <li>Allows you to navigate back in time to review past performance.</li> </ul>"},{"location":"features/budgets/","title":"Budgets &amp; Goals","text":"<p>TrueLedger helps you plan for the future and control your spending through Budgets and Saving Goals.</p>"},{"location":"features/budgets/#budgets","title":"\ud83d\udcc9 Budgets","text":"<p>Budgets are category-specific monthly limits. - Smart Progress: Visual progress bars change color (Green -&gt; Yellow -&gt; Red) as you approach your limit. - Auto-Calculation: Spending recorded in \"Variable Expenses\" is automatically deducted from the relevant category budget. - Setup: Manage budgets via Settings -&gt; Budgets.</p>"},{"location":"features/budgets/#saving-goals","title":"\ud83c\udfaf Saving Goals","text":"<p>Track progress toward long-term targets like an \"Emergency Fund\" or a \"Europe Trip\". - Visual Progress: See exactly how much you've saved vs the target amount. - Wealth Impact: Active goals contribute to your overall financial planning. - Setup: Manage goals via Settings -&gt; Saving Goals.</p>"},{"location":"features/dashboard/","title":"Dashboard","text":"<p>The Dashboard is the central hub of TrueLedger, designed to give you an immediate snapshot of your financial health.</p>"},{"location":"features/dashboard/#core-overview","title":"\ud83d\udcca Core Overview","text":"<ul> <li>Monthly Summary: Large visualization of your Income, Expenses, and Net Savings for the current month.</li> <li>Spending Trend: A 6-month historical graph showing how your spending compares to your income.</li> <li>Category Breakdown: An interactive donut chart showing where your money is going this month.</li> <li>Payment Calendar: A visual, grid-based calendar widget tracking upcoming subscriptions, loans, and bills. Features highly recognizable dynamic brand SVG logos, interactive tooltips, and iOS-style red notification badges if multiple unpaid bills stack up on a single day.</li> </ul>"},{"location":"features/dashboard/#engagement-features","title":"\ud83d\udd25 Engagement Features","text":"<ul> <li>Streak Tracking: Displays your current daily tracking streak. A streak increases when you record at least one variable expense per day.</li> <li>Wealth Hero: A visualization of your progress toward financial independence, comparing your assets to your liabilities.</li> <li>Quick Actions: Prominent buttons to add Income or Expenses instantly.</li> </ul>"},{"location":"features/dashboard/#smart-notifications","title":"\ud83d\udd14 Smart Notifications","text":"<ul> <li>Status Indicator: A bell icon shows your notification status. Tap to view your scheduled reminders (Daily reminders, Credit Card due dates, etc.).</li> <li>Daily Bill Digest: An aggregated morning notification that summarizes everything due today (Bills, Subscriptions, EMIs), avoiding notification fatigue.</li> </ul>"},{"location":"features/net-worth-tracking/","title":"Net Worth Tracking Feature","text":""},{"location":"features/net-worth-tracking/#overview","title":"Overview","text":"<p>The Net Worth Tracking feature provides users with a comprehensive view of their financial health by aggregating assets and liabilities over time. It offers visual trends and actionable insights to help users grow their wealth.</p>"},{"location":"features/net-worth-tracking/#key-components","title":"Key Components","text":""},{"location":"features/net-worth-tracking/#1-net-worth-tracking-screen","title":"1. Net Worth Tracking Screen","text":"<ul> <li>Current Net Worth: A prominent display of the user's total net worth (Assets - Liabilities).</li> <li>Assets &amp; Liabilities Breakdown: Quick-access cards showing total assets and liabilities, with navigation to detailed breakup screens.</li> <li>12-Month Trend Chart: A visual representation of the net worth trajectory over the last year.</li> <li>Financial Insights: Dynamic text providing context on net worth changes and percentage growth.</li> </ul>"},{"location":"features/net-worth-tracking/#2-dashboard-integration","title":"2. Dashboard Integration","text":"<ul> <li>The <code>AssetLiabilityCard</code> on the dashboard has been enhanced to show the total Net Worth.</li> <li>Tapping the Net Worth card navigates directly to the Tracking Screen.</li> </ul>"},{"location":"features/net-worth-tracking/#technical-details","title":"Technical Details","text":""},{"location":"features/net-worth-tracking/#implementation-files","title":"Implementation Files","text":"<ul> <li><code>lib/presentation/screens/net_worth/net_worth_tracking_screen.dart</code>: The main tracking screen and custom chart painter.</li> <li><code>lib/presentation/screens/dashboard/dashboard_components/asset_liability_card.dart</code>: Updated dashboard widget.</li> </ul>"},{"location":"features/net-worth-tracking/#data-sources","title":"Data Sources","text":"<ul> <li>Assets: Calculated from <code>investments</code> (active only) and <code>retirement_contributions</code>.</li> <li>Liabilities: Calculated from <code>credit_cards</code> (statement balances) and <code>loans</code> (remaining amounts).</li> </ul>"},{"location":"features/net-worth-tracking/#testing","title":"Testing","text":"<p>Comprehensive widget tests have been implemented to ensure reliability: - <code>test/widget/net_worth_tracking_screen_test.dart</code>:     - Loading states.     - Accurate net worth calculation (positive and negative).     - Empty data handling (graceful state).     - Navigation to details.     - Filtering of inactive assets. - <code>test/widget/asset_liability_card_test.dart</code>:     - Rendering of net worth components on the dashboard.</p>"},{"location":"features/net-worth-tracking/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Support for historical snapshots in the database to show real historical trends instead of simulated ones.</li> <li>Ability to set net worth goals.</li> <li>Comparison with benchmarks.</li> </ul>"},{"location":"features/personalization/","title":"Phase 5: Personalization Without Creep","text":"<p>Goal: Adaptive Utility (reduce effort, preserve agency)</p> <p>Core Principle The app adapts to reduce effort \u2014 never to predict, judge, or manipulate behavior. All personalization is local, explainable, optional, and reversible.</p>"},{"location":"features/personalization/#phase-51-zero-risk-foundations","title":"Phase 5.1: Zero Risk (Foundations)","text":""},{"location":"features/personalization/#last-used-memory","title":"Last-Used Memory","text":"<ul> <li>Default to last used:</li> <li>Category</li> <li>Payment method</li> <li>Merchant (if applicable)</li> <li>Always visibly surfaced in UI  </li> <li>Example: \u201cUsing last category: Food\u201d</li> <li>Must be manually overridable every time.</li> </ul>"},{"location":"features/personalization/#quick-add-presets-user-created","title":"Quick-Add Presets (User-Created)","text":"<ul> <li>Users can pin common amount + category combos.</li> <li>Examples:<ul> <li><code>\u20b9120 \u00b7 Coffee</code></li> <li><code>\u20b980 \u00b7 Bus</code></li> </ul> </li> <li>Presets are:</li> <li>Explicitly created by the user</li> <li>Editable</li> <li>Deletable</li> <li>No automatic creation of presets.</li> </ul>"},{"location":"features/personalization/#explicit-preferred-reminder-time","title":"Explicit Preferred Reminder Time","text":"<ul> <li>User-selectable reminder time.</li> <li>Clear \u201cOff\u201d option.</li> <li>No default assumptions.</li> <li>No \u201csmart guessing\u201d of reminder time.</li> </ul>"},{"location":"features/personalization/#phase-52-gentle-adaptation-high-friction-by-design","title":"Phase 5.2: Gentle Adaptation (High Friction by Design)","text":""},{"location":"features/personalization/#time-of-day-defaults","title":"Time-of-Day Defaults","text":"<ul> <li>Suggest (never auto-save):</li> <li>Morning \u2192 Breakfast / Commute</li> <li>Evening \u2192 Dinner</li> <li>Enabled only after:</li> <li>\u2265 5 similar entries</li> <li>Same category</li> <li>Same ~2-hour time window</li> <li>Observed over \u2265 14 days</li> <li>Requires explicit tap to confirm.</li> <li>If repeatedly overridden \u2192 suggestion disabled.</li> </ul>"},{"location":"features/personalization/#salary-cycle-awareness","title":"Salary Cycle Awareness","text":"<ul> <li>One-time, explicit prompt:</li> <li>\u201cWhen do you usually get paid?\u201d</li> <li>Used only for:</li> <li>Budget cycle reset</li> <li>Forecast framing (\u201cuntil next salary\u201d)</li> <li>Never used to infer income.</li> <li>Fully editable later.</li> </ul>"},{"location":"features/personalization/#shortcut-suggestions","title":"Shortcut Suggestions","text":"<ul> <li>Micro-prompt after clear repetition:</li> <li>\u201cYou often log \u2018Coffee\u2019 as Food. Save as shortcut?\u201d</li> <li>Rules:</li> <li>Shown once per pattern</li> <li>Dismissable</li> <li>\u201cDon\u2019t show again\u201d available</li> <li>Never auto-create shortcuts.</li> </ul>"},{"location":"features/personalization/#suggestion-cooldown-mandatory","title":"Suggestion Cooldown (Mandatory)","text":"<ul> <li>If user dismisses a suggestion:</li> <li>Suppress for 30 days</li> <li>If user selects \u201cDon\u2019t show again\u201d:</li> <li>Permanently disabled for that suggestion</li> </ul>"},{"location":"features/personalization/#phase-53-trust-control-non-negotiable","title":"Phase 5.3: Trust &amp; Control (Non-Negotiable)","text":""},{"location":"features/personalization/#transparency-why-am-i-seeing-this","title":"Transparency: \u201cWhy am I seeing this?\u201d","text":"<ul> <li>Available for every adaptive suggestion</li> <li>Example explanations:</li> <li>\u201cBased on your last 6 evening entries\u201d</li> <li>If logic cannot be explained \u2192 feature must not exist.</li> </ul>"},{"location":"features/personalization/#reset-personalization","title":"Reset Personalization","text":"<ul> <li>One-click action:</li> <li>\u201cReset suggestions &amp; defaults\u201d</li> <li>Clears:</li> <li>Learned patterns</li> <li>Adaptive defaults</li> <li>Does not delete transactions or user data.</li> </ul>"},{"location":"features/personalization/#per-feature-personalization-toggles","title":"Per-Feature Personalization Toggles","text":"<ul> <li>Fine-grained controls in Settings:</li> <li>\u2610 Remember last-used values</li> <li>\u2610 Time-of-day suggestions</li> <li>\u2610 Shortcut suggestions</li> <li>Global reset does not override explicit opt-outs.</li> </ul>"},{"location":"features/personalization/#personal-baseline-reflections-ui-only","title":"Personal Baseline Reflections (UI-Only)","text":"<ul> <li>Compare user only to themselves</li> <li>Examples:</li> <li>\u201cHigher than your usual Friday\u201d</li> <li>\u201cLower than your typical week\u201d</li> <li>Rules:</li> <li>Minimum 3 weeks of data required</li> <li>Never pushed as notifications</li> <li>No emotional or judgmental language</li> </ul>"},{"location":"features/personalization/#data-privacy-guarantees","title":"Data &amp; Privacy Guarantees","text":"<ul> <li>All personalization data is:</li> <li>Stored locally on device</li> <li>Never synced</li> <li>Never uploaded</li> <li>No cross-user comparisons</li> <li>No profiling or hidden inference</li> </ul>"},{"location":"features/personalization/#explicitly-out-of-scope","title":"Explicitly Out of Scope","text":"<ul> <li>Auto-categorization without confirmation</li> <li>Emotional or behavioral labeling</li> <li>Spending scores or rankings</li> <li>Cross-user or percentile comparisons</li> </ul>"},{"location":"features/personalization/#success-criteria","title":"Success Criteria","text":"<ul> <li>Fewer taps to add transactions</li> <li>No increase in notification fatigue</li> <li>Users understand why suggestions appear</li> <li>Users can disable or reset personalization at any time</li> </ul>"},{"location":"features/saving-goals/","title":"Saving Goals Screen","text":""},{"location":"features/saving-goals/#summary","title":"\ud83d\udccb Summary","text":"<p>This feature allows users to: - View all their saving goals with progress tracking - See overall progress across all goals - Add new goals - Edit existing goals - Track completion status with visual celebrations</p>"},{"location":"features/saving-goals/#implementation-details","title":"\ud83c\udfaf Implementation Details","text":""},{"location":"features/saving-goals/#files-created","title":"Files Created:","text":"<ol> <li><code>lib/presentation/screens/goals/goals_screen.dart</code> (520 lines)</li> <li>Main goals screen with beautiful UI</li> <li>Overall summary card showing total progress</li> <li>Individual goal cards with progress bars</li> <li>Empty state with call-to-action</li> <li>Animated transitions and hover effects</li> <li>Privacy mode support</li> </ol>"},{"location":"features/saving-goals/#ui-features","title":"\ud83c\udfa8 UI Features","text":"<ul> <li>Overall Progress Card: Shows total saved vs total target across all goals</li> <li>Individual Goal Cards: </li> <li>Progress percentage</li> <li>Remaining amount</li> <li>Visual progress bar with gradient</li> <li>Completion celebration (\ud83c\udf89 for 100% goals)</li> <li>Color-coded progress (green for complete, yellow for 75%+, etc.)</li> <li>Empty State: Beautiful empty state with icon and call-to-action</li> <li>Animations: Smooth fade-in and slide animations using flutter_animate</li> <li>Hover Effects: Interactive hover effects on goal cards</li> <li>Privacy Mode: Respects privacy settings for amount display</li> </ul>"},{"location":"features/transactions/","title":"Transactions &amp; Entries","text":"<p>TrueLedger categorizes financial data into several distinct types to ensure accurate reporting and net worth calculation.</p>"},{"location":"features/transactions/#entry-types","title":"\ud83d\udce5 Entry Types","text":""},{"location":"features/transactions/#1-variable-expenses","title":"1. Variable Expenses","text":"<p>Daily spending such as groceries, fuel, or entertainment. These are the primary entries that count toward your Daily Streak.</p>"},{"location":"features/transactions/#2-income","title":"2. Income","text":"<p>Primary salary, rental income, or dividends. Recording income allows TrueLedger to calculate your savings rate.</p>"},{"location":"features/transactions/#3-fixed-expenses","title":"3. Fixed Expenses","text":"<p>Recurring monthly bills like rent or gym memberships. These are kept separate from variable spending to help you understand your \"baseline\" cost of living.</p>"},{"location":"features/transactions/#4-investments-assets","title":"4. Investments (Assets)","text":"<p>Stocks, mutual funds, or gold. These contribute positively to your Net Worth.</p>"},{"location":"features/transactions/#5-liabilities-debt","title":"5. Liabilities (Debt)","text":"<ul> <li>Loans: Track EMIs, interest rates, and remaining balances. Automatically resolves real bank brand SVGs based on provider name.</li> <li>Credit Cards: Track statement balances, minimum dues, and due dates. Renders dynamic brand logos (Chase, N26, Visa, etc.) based on card or bank name.</li> </ul>"},{"location":"features/transactions/#adding-data","title":"\ud83d\udcdd Adding Data","text":"<ul> <li>Tap the + button or the specific \"Add\" buttons on the dashboard.</li> <li>Input the amount, select a category, and specify the date.</li> <li>Notes and tags can be added for better searchability later.</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration Guide","text":"<p>Customize TrueLedger to fit your needs.</p>"},{"location":"getting-started/configuration/#app-settings","title":"App Settings","text":"<p>All settings are accessible from the Settings screen (gear icon in the app bar).</p>"},{"location":"getting-started/configuration/#theme-configuration","title":"Theme Configuration","text":"<p>Location: Settings \u2192 Theme</p> <p>Choose your preferred visual theme:</p> <ul> <li>System Default: Follows your device's theme setting</li> <li>Light Mode: Always use light theme</li> <li>Dark Mode: Always use dark theme</li> </ul> <pre><code>// Programmatically set theme\nSharedPreferences prefs = await SharedPreferences.getInstance();\nawait prefs.setString('theme_mode', 'dark'); // 'light', 'dark', or 'system'\n</code></pre>"},{"location":"getting-started/configuration/#currency-settings","title":"Currency Settings","text":"<p>Location: Settings \u2192 Currency</p> <p>Select your currency symbol from the dropdown:</p> <ul> <li>USD ($)</li> <li>EUR (\u20ac)</li> <li>GBP (\u00a3)</li> <li>INR (\u20b9)</li> <li>JPY (\u00a5)</li> <li>And many more...</li> </ul> <pre><code>// Programmatically set currency\nSharedPreferences prefs = await SharedPreferences.getInstance();\nawait prefs.setString('currency', '\\$');\n</code></pre>"},{"location":"getting-started/configuration/#privacy-mode","title":"Privacy Mode","text":"<p>Location: Dashboard Header (Eye Icon)</p> <p>Toggle the global privacy mask to hide sensitive financial numbers in public.</p> <ul> <li>Enabled: All monetary values are masked (e.g., <code>****</code>)</li> <li>Disabled: Values are shown normally</li> <li>Persistence: Setting is remembered across app restarts</li> <li>Policy: For full details, see the Privacy Policy.</li> </ul>"},{"location":"getting-started/configuration/#security-settings","title":"Security Settings","text":""},{"location":"getting-started/configuration/#pin-lock","title":"PIN Lock","text":"<p>Location: Settings \u2192 Security \u2192 PIN Lock</p> <ol> <li>Toggle Enable PIN Lock</li> <li>Enter a 4-digit PIN</li> <li>Confirm the PIN</li> </ol> <p>The app will now require the PIN on every launch.</p> <pre><code>// Check if PIN is enabled\nSharedPreferences prefs = await SharedPreferences.getInstance();\nbool pinEnabled = prefs.getBool('pin_enabled') ?? false;\n</code></pre>"},{"location":"getting-started/configuration/#account-recovery","title":"Account Recovery","text":"<p>Location: Settings \u2192 Security \u2192 View Recovery Key</p> <p>Never lose access to your data. When setting a PIN, TrueLedger generates a unique 14-character Recovery Key (e.g., <code>ABCD-1234-WX99</code>).</p> <ul> <li>Setup: You must save this key when creating a PIN.</li> <li>Usage: If you forget your PIN, tap \"Forgot PIN?\" on the lock screen and enter your key to reset security without data loss.</li> <li>View Key: Authenticated users can view their key in Settings to save it again.</li> </ul>"},{"location":"getting-started/configuration/#biometric-authentication","title":"Biometric Authentication","text":"<p>Location: Settings \u2192 Security \u2192 Biometric Lock</p> <p>Enable fingerprint or face recognition (if supported by your device):</p> <ol> <li>Toggle Enable Biometric Lock</li> <li>Authenticate with your biometric</li> </ol> <p>Note</p> <p>Biometric authentication requires PIN lock to be enabled as a fallback.</p>"},{"location":"getting-started/configuration/#data-encryption","title":"Data Encryption","text":"<p>Mobile Platforms (Android/iOS): - Data is automatically encrypted using SQLCipher with AES-256 - Encryption key is stored in platform secure storage (Keychain/Keyring)</p> <p>Desktop Platforms (Linux/macOS/Windows): - Data is stored unencrypted in SQLite - Relies on file system permissions for security</p>"},{"location":"getting-started/configuration/#notification-settings","title":"Notification Settings","text":"<p>Location: Settings \u2192 Notifications</p> <p>Configure reminders and alerts:</p> <ul> <li>Budget Alerts: Get notified when approaching budget limits</li> <li>Bill Reminders: Reminders for upcoming bills and subscriptions</li> <li>Daily Summary: Daily financial summary notification</li> </ul> <pre><code>// Enable notifications\nawait NotificationService().requestPermissions();\n</code></pre>"},{"location":"getting-started/configuration/#data-management","title":"Data Management","text":""},{"location":"getting-started/configuration/#export-data","title":"Export Data","text":"<p>Location: Settings \u2192 Data Management \u2192 Export Data</p> <p>Export all your financial data to a JSON file:</p> <ol> <li>Tap Export Data</li> <li>Choose save location</li> <li>File is saved as <code>trueledger_backup_YYYY-MM-DD.json</code></li> </ol> <p>Export Format: <pre><code>{\n  \"version\": \"1.0.0\",\n  \"exported_at\": \"2026-01-24T17:00:00Z\",\n  \"income_sources\": [...],\n  \"fixed_expenses\": [...],\n  \"variable_expenses\": [...],\n  \"budgets\": [...],\n  \"saving_goals\": [...]\n}\n</code></pre></p>"},{"location":"getting-started/configuration/#import-data","title":"Import Data","text":"<p>Location: Settings \u2192 Data Management \u2192 Import Data</p> <p>Restore data from a backup file:</p> <ol> <li>Tap Import Data</li> <li>Select your backup JSON file</li> <li>Confirm the import</li> </ol> <p>Warning</p> <p>Importing will replace all existing data. Export current data first!</p>"},{"location":"getting-started/configuration/#clear-all-data","title":"Clear All Data","text":"<p>Location: Settings \u2192 Data Management \u2192 Clear All Data</p> <p>Permanently delete all financial data:</p> <ol> <li>Tap Clear All Data</li> <li>Confirm the action</li> </ol> <p>Irreversible</p> <p>This action cannot be undone. Export your data before clearing!</p>"},{"location":"getting-started/configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"getting-started/configuration/#database-location","title":"Database Location","text":"<p>Default Paths:</p> <ul> <li>Android: <code>/data/data/com.satyakommula.TrueLedger.app/databases/trueledger.db</code></li> <li>iOS: <code>~/Library/Application Support/trueledger.db</code></li> <li>Linux: <code>~/.local/share/trueledger/trueledger.db</code></li> <li>macOS: <code>~/Library/Application Support/trueledger/trueledger.db</code></li> <li>Windows: <code>%APPDATA%\\trueledger\\trueledger.db</code></li> <li>Web: IndexedDB (browser storage)</li> </ul>"},{"location":"getting-started/configuration/#shared-preferences","title":"Shared Preferences","text":"<p>Location: Platform-specific</p> <ul> <li>Android: <code>/data/data/com.satyakommula.TrueLedger.app/shared_prefs/</code></li> <li>iOS: <code>~/Library/Preferences/</code></li> <li>Desktop: Platform-specific preferences directory</li> </ul> <p>Stored Settings: <pre><code>{\n  \"intro_seen\": true,\n  \"theme_mode\": \"dark\",\n  \"currency\": \"$\",\n  \"pin_enabled\": false,\n  \"biometric_enabled\": false,\n  \"notifications_enabled\": true\n}\n</code></pre></p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>For development and testing:</p> <pre><code># Enable debug logging\nexport TRUELEDGER_DEBUG=true\n\n# Use custom database path\nexport TRUELEDGER_DB_PATH=/path/to/custom/db\n\n# Disable encryption (testing only)\nexport TRUELEDGER_DISABLE_ENCRYPTION=true\n</code></pre>"},{"location":"getting-started/configuration/#performance-tuning","title":"Performance Tuning","text":""},{"location":"getting-started/configuration/#database-optimization","title":"Database Optimization","text":"<p>The app automatically optimizes database performance:</p> <ul> <li>Indexes: Created on frequently queried columns</li> <li>Batch Operations: Bulk inserts use transactions</li> <li>Query Caching: Common queries are cached</li> </ul>"},{"location":"getting-started/configuration/#ui-performance","title":"UI Performance","text":"<ul> <li>Lazy Loading: Large lists use <code>ListView.builder</code></li> <li>Const Widgets: Static widgets use <code>const</code> constructors</li> <li>Provider Granularity: Minimized rebuilds with scoped providers</li> </ul>"},{"location":"getting-started/configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/configuration/#reset-to-defaults","title":"Reset to Defaults","text":"<p>To reset all settings to default values:</p> <ol> <li>Go to Settings \u2192 Advanced</li> <li>Tap Reset to Defaults</li> <li>Confirm the action</li> </ol> <p>Or manually:</p> <pre><code>SharedPreferences prefs = await SharedPreferences.getInstance();\nawait prefs.clear();\n</code></pre>"},{"location":"getting-started/configuration/#clear-cache","title":"Clear Cache","text":"<p>If experiencing performance issues:</p> <ol> <li>Go to Settings \u2192 Advanced</li> <li>Tap Clear Cache</li> </ol>"},{"location":"getting-started/configuration/#rebuild-database","title":"Rebuild Database","text":"<p>If database corruption is suspected:</p> <ol> <li>Export your data first!</li> <li>Go to Settings \u2192 Advanced \u2192 Rebuild Database</li> <li>Import your data back</li> </ol>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Features Overview - Explore all features</li> <li>Architecture - Understand the codebase</li> <li>Development Guide - Contribute to TrueLedger</li> </ul>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>Get TrueLedger up and running on your platform of choice.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Flutter SDK: Version 3.0 or higher</li> <li>Dart SDK: Version 3.0 or higher</li> <li>Platform-specific tools:</li> <li>Android: Android Studio with Android SDK</li> <li>iOS: Xcode (macOS only)</li> <li>Linux: <code>libsecret-1-dev</code>, <code>libjsoncpp-dev</code></li> <li>macOS: Xcode Command Line Tools</li> <li>Windows: Visual Studio 2022 with C++ tools</li> <li>Web: Chrome, Edge, or Firefox (SQLite WASM requires a modern browser)</li> </ul>"},{"location":"getting-started/installation/#quick-install","title":"Quick Install","text":""},{"location":"getting-started/installation/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/satyakommula96/trueledger.git\ncd trueledger\n</code></pre>"},{"location":"getting-started/installation/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code>flutter pub get\n</code></pre>"},{"location":"getting-started/installation/#3-platform-specific-setup","title":"3. Platform-Specific Setup","text":"AndroidiOSLinuxmacOSWindowsWeb <pre><code># No additional setup required\nflutter run -d android\n</code></pre> <pre><code>cd ios\npod install\ncd ..\nflutter run -d ios\n</code></pre> <pre><code># Install dependencies\nsudo apt-get update\nsudo apt-get install -y \\\n  libsecret-1-dev \\\n  libjsoncpp-dev \\\n  libsqlite3-dev \\\n  libsqlcipher-dev \\\n  libssl-dev\n\nflutter run -d linux\n</code></pre> <pre><code># Ensure Xcode Command Line Tools are installed\nxcode-select --install\n\n# Install SQLCipher for database encryption\nbrew install sqlcipher\n\nflutter run -d macos\n</code></pre> <pre><code># Ensure Visual Studio 2022 with C++ tools is installed\n# Note: For encryption, provide sqlcipher.dll (e.g., from Zetetic or vcpkg) in the application directory\nflutter run -d windows\n</code></pre> <pre><code>flutter run -d chrome\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Run the test suite to ensure everything is working:</p> <pre><code>flutter test\n</code></pre> <p>All 21 tests should pass: - \u2705 19 Unit tests - \u2705 1 Widget test - \u2705 1 Integration test</p>"},{"location":"getting-started/installation/#build-for-production","title":"Build for Production","text":""},{"location":"getting-started/installation/#android-apk","title":"Android APK","text":"<pre><code>flutter build apk --release\n</code></pre> <p>Output: <code>build/app/outputs/flutter-apk/app-release.apk</code></p>"},{"location":"getting-started/installation/#ios-ipa","title":"iOS IPA","text":"<pre><code>flutter build ios --release\n</code></pre> <p>Then use Xcode to create an archive and export the IPA.</p>"},{"location":"getting-started/installation/#linux","title":"Linux","text":"<pre><code>flutter build linux --release\n</code></pre> <p>Output: <code>build/linux/x64/release/bundle/</code></p>"},{"location":"getting-started/installation/#macos","title":"macOS","text":"<pre><code>flutter build macos --release\n</code></pre> <p>Output: <code>build/macos/Build/Products/Release/trueledger.app</code></p>"},{"location":"getting-started/installation/#windows","title":"Windows","text":"<pre><code>flutter build windows --release\n</code></pre> <p>Output: <code>build/windows/runner/Release/</code></p>"},{"location":"getting-started/installation/#web","title":"Web","text":"<pre><code>flutter build web --release\n</code></pre> <p>Output: <code>build/web/</code></p> <p>Deployment Tip</p> <p>The web version is a Single Page Application (SPA). For production deployment (like the Live Demo), ensure your server is configured to redirect all traffic to <code>index.html</code>. See the Web Platform Guide for more.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/installation/#flutter-sdk-not-found","title":"\"Flutter SDK not found\"","text":"<pre><code># Add Flutter to PATH\nexport PATH=\"$PATH:/path/to/flutter/bin\"\n</code></pre>"},{"location":"getting-started/installation/#android-licenses-not-accepted","title":"\"Android licenses not accepted\"","text":"<pre><code>flutter doctor --android-licenses\n</code></pre>"},{"location":"getting-started/installation/#cocoapods-not-installed-iosmacos","title":"\"CocoaPods not installed\" (iOS/macOS)","text":"<pre><code>sudo gem install cocoapods\n</code></pre>"},{"location":"getting-started/installation/#libsecret-not-found-linux","title":"\"libsecret not found\" (Linux)","text":"<pre><code>sudo apt-get install libsecret-1-dev\n</code></pre>"},{"location":"getting-started/installation/#still-having-issues","title":"Still Having Issues?","text":"<ol> <li>Run <code>flutter doctor</code> to diagnose problems</li> <li>Check the GitHub Issues</li> <li>Review platform-specific guides in the Platforms section</li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Learn the basics</li> <li>Configuration - Customize your setup</li> <li>Architecture Overview - Understand the codebase</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get started with TrueLedger in 5 minutes!</p>"},{"location":"getting-started/quick-start/#first-launch","title":"First Launch","text":"<p>When you first launch TrueLedger, you'll see the Intro Screen with a brief overview of the app's features.</p> <ol> <li>Tap GET STARTED or SKIP to go directly to the dashboard.</li> <li>Grant notification permissions (optional) to receive reminders for bills and budgets</li> </ol>"},{"location":"getting-started/quick-start/#demo-data-seeding","title":"\ud83e\uddea Demo Data / Seeding","text":"<p>To easily experience TrueLedger with a rich set of populated data, you can instantly inject demo entries (transactions, budgets, loans, investments, and more):</p> <ol> <li>Navigate to Settings.</li> <li>Tap on Seed Data to automatically populate your dashboard. You can clear this anytime by tapping Clear All Data.</li> </ol>"},{"location":"getting-started/quick-start/#dashboard-overview","title":"Dashboard Overview","text":"<p>The Dashboard is your financial command center:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \ud83d\udcb0 Monthly Summary                 \u2502\n\u2502  Income: $5,000 | Expenses: $3,200  \u2502\n\u2502  Savings: $1,800                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \ud83d\udcca Smart Insights (AI)             \u2502\n\u2502  \"Great job! You're saving 36%...\"  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \ud83c\udfaf Budgets &amp; Goals                 \u2502\n\u2502  Groceries: $450 / $500             \u2502\n\u2502  Vacation Fund: $2,000 / $5,000     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/quick-start/#adding-your-first-transaction","title":"Adding Your First Transaction","text":""},{"location":"getting-started/quick-start/#income","title":"Income","text":"<ol> <li>Tap \"Add Income\" on the dashboard</li> <li>Enter:</li> <li>Source: e.g., \"Salary\"</li> <li>Amount: e.g., 5000</li> <li>Date: Select the date</li> <li>Tap Save</li> </ol>"},{"location":"getting-started/quick-start/#expense","title":"Expense","text":"<ol> <li>Tap \"Add Expense\" on the dashboard</li> <li>Enter:</li> <li>Category: e.g., \"Groceries\"</li> <li>Amount: e.g., 150</li> <li>Date: Select the date</li> <li>Note (optional): e.g., \"Weekly shopping\"</li> <li>Tags (optional): e.g., \"food, essentials\"</li> <li>Tap Save</li> </ol>"},{"location":"getting-started/quick-start/#setting-up-a-budget","title":"Setting Up a Budget","text":"<ol> <li>Navigate to Settings \u2192 Budgets</li> <li>Tap \"Add Budget\"</li> <li>Enter:</li> <li>Category: e.g., \"Dining Out\"</li> <li>Monthly Limit: e.g., 300</li> <li>Tap Save</li> </ol> <p>The dashboard will now show your budget progress!</p>"},{"location":"getting-started/quick-start/#creating-a-saving-goal","title":"Creating a Saving Goal","text":"<ol> <li>Navigate to Settings \u2192 Saving Goals</li> <li>Tap \"Add Goal\"</li> <li>Enter:</li> <li>Name: e.g., \"Emergency Fund\"</li> <li>Target Amount: e.g., 10000</li> <li>Current Amount: e.g., 2000</li> <li>Tap Save</li> </ol> <p>Track your progress on the dashboard!</p>"},{"location":"getting-started/quick-start/#viewing-analytics","title":"Viewing Analytics","text":"<p>Tap the Analysis tab to see:</p> <ul> <li>Spending Trends: Monthly spending over time</li> <li>Category Breakdown: Where your money goes</li> <li>Income vs Expenses: Compare earnings and spending</li> <li>Budget Performance: How well you're sticking to budgets</li> </ul>"},{"location":"getting-started/quick-start/#ai-powered-insights","title":"AI-Powered Insights","text":"<p>The dashboard displays Smart Insights powered by AI:</p> <ul> <li>\ud83d\udcc8 Wealth Projections: Predicts net worth growth based on current savings velocity.</li> <li>\ud83d\udca1 True Cost Analysis: Translates heavy spending categories into \"hours of life worked\" based on your effective hourly wage.</li> <li>\u26a0\ufe0f Overspending &amp; Burn Rate: Detects abnormal spending surges and calculates how many days your liquid assets will last if income stops.</li> <li>\ud83e\udddf Subscription Leakage: Identifies zombie subscriptions consuming disproportionate amounts of income.</li> </ul>"},{"location":"getting-started/quick-start/#customization","title":"Customization","text":""},{"location":"getting-started/quick-start/#change-theme","title":"Change Theme","text":"<ol> <li>Go to Settings</li> <li>Tap Theme</li> <li>Choose:</li> <li>System Default</li> <li>Light Mode</li> <li>Dark Mode</li> </ol>"},{"location":"getting-started/quick-start/#change-currency","title":"Change Currency","text":"<ol> <li>Go to Settings</li> <li>Tap Currency</li> <li>Select your preferred currency symbol</li> </ol>"},{"location":"getting-started/quick-start/#set-up-pin-lock","title":"Set Up PIN Lock","text":"<ol> <li>Go to Settings</li> <li>Tap Security</li> <li>Enable PIN Lock</li> <li>Set your 4-digit PIN</li> </ol>"},{"location":"getting-started/quick-start/#backup-restore","title":"Backup &amp; Restore","text":""},{"location":"getting-started/quick-start/#export-data","title":"Export Data","text":"<ol> <li>Go to Settings \u2192 Data Management</li> <li>Tap Export Data</li> <li>Choose a location to save the JSON file</li> </ol>"},{"location":"getting-started/quick-start/#import-data","title":"Import Data","text":"<ol> <li>Go to Settings \u2192 Data Management</li> <li>Tap Import Data</li> <li>Select your backup JSON file</li> </ol> <p>Important</p> <p>Importing data will replace all existing data. Make sure to export first!</p>"},{"location":"getting-started/quick-start/#tips-for-success","title":"Tips for Success","text":"<ol> <li>Track Daily: Add expenses as they happen for accurate insights</li> <li>Review Weekly: Check your analytics every week</li> <li>Set Realistic Budgets: Start with achievable limits</li> <li>Use Tags: Organize expenses with tags for better analysis</li> <li>Check AI Insights: Review recommendations regularly</li> </ol>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration Guide - Advanced settings</li> <li>Features Overview - Detailed feature guides</li> <li>Analytics Deep Dive - Master the analysis tools</li> </ul>"},{"location":"getting-started/quick-start/#need-help","title":"Need Help?","text":"<ul> <li>Check the Troubleshooting Guide</li> <li>Visit GitHub Issues</li> <li>Read the Architecture Documentation</li> </ul>"},{"location":"platforms/android/","title":"Android Platform","text":"<p>TrueLedger provides a standard native experience on Android with a focus on security and performance.</p>"},{"location":"platforms/android/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":""},{"location":"platforms/android/#1-persistence-encryption","title":"1. Persistence &amp; Encryption","text":"<ul> <li>Database: Uses <code>sqflite_sqlcipher</code> for a fully encrypted SQLite database.</li> <li>Key Management: The encryption key is generated locally and stored in Android Keystore using the <code>flutter_secure_storage</code> plugin (using AES/RSA encryption).</li> </ul>"},{"location":"platforms/android/#2-notifications","title":"2. Notifications","text":"<ul> <li>Plugin: <code>flutter_local_notifications</code>.</li> <li>Customization: Uses a custom notification icon and supports daily reminders even when the app is in the background.</li> </ul>"},{"location":"platforms/android/#development-build","title":"\ud83d\ude80 Development &amp; Build","text":""},{"location":"platforms/android/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d &lt;android-device-id&gt;\n</code></pre>"},{"location":"platforms/android/#build-for-production-apk","title":"Build for Production (APK)","text":"<pre><code>flutter build apk --release\n</code></pre>"},{"location":"platforms/android/#build-for-production-app-bundle","title":"Build for Production (App Bundle)","text":"<pre><code>flutter build appbundle --release\n</code></pre>"},{"location":"platforms/android/#requirements","title":"\ud83d\udccb Requirements","text":"<ul> <li>Min SDK: 21 (Android 5.0)</li> <li>Target SDK: 34+</li> <li>Architectures: supports armeabi-v7a, arm64-v8a, and x86_64.</li> </ul>"},{"location":"platforms/android/#known-implementation-details","title":"\u26a0\ufe0f Known Implementation Details","text":"<ul> <li>ProGuard/R8: Ensure SQLCipher classes are not obfuscated (handled automatically by the plugin's default rules).</li> <li>Permissions: Requires standard <code>POST_NOTIFICATIONS</code> permission on Android 13+.</li> </ul>"},{"location":"platforms/ios/","title":"iOS Platform","text":"<p>TrueLedger on iOS leverages native system capabilities for security and smooth animations.</p>"},{"location":"platforms/ios/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":""},{"location":"platforms/ios/#1-persistence-encryption","title":"1. Persistence &amp; Encryption","text":"<ul> <li>Database: Uses <code>sqflite_sqlcipher</code> for a fully encrypted SQLite database.</li> <li>Key Management: The encryption key is stored in the iOS Keychain.</li> </ul>"},{"location":"platforms/ios/#2-notifications","title":"2. Notifications","text":"<ul> <li>Requesting Permission: Triggered via the <code>notificationServiceProvider</code>.</li> <li>Handling Click: Deep-linking from notifications to specific screens (Dashboard/Cards) is supported.</li> </ul>"},{"location":"platforms/ios/#development-build","title":"\ud83d\ude80 Development &amp; Build","text":""},{"location":"platforms/ios/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d &lt;ios-device-id&gt;\n</code></pre>"},{"location":"platforms/ios/#build-for-production-ipa","title":"Build for Production (IPA)","text":"<pre><code>flutter build ios --release\n</code></pre>"},{"location":"platforms/ios/#requirements","title":"\ud83d\udccb Requirements","text":"<ul> <li>Min iOS Version: 13.0</li> <li>CocoaPods: Ensure you run <code>pod install</code> in the <code>ios</code> directory before building.</li> </ul>"},{"location":"platforms/ios/#known-implementation-details","title":"\u26a0\ufe0f Known Implementation Details","text":"<ul> <li>Architecture: Supports both physical devices (arm64) and simulators (x86_64/arm64).</li> <li>Entitlements: Uses standard keychain sharing if needed (current config is default).</li> </ul>"},{"location":"platforms/linux/","title":"Linux Platform","text":"<p>TrueLedger provides a native GTK-based experience for Linux users, optimized for desktop usage.</p>"},{"location":"platforms/linux/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":""},{"location":"platforms/linux/#1-persistence-encryption","title":"1. Persistence &amp; Encryption","text":"<ul> <li>Database: Uses <code>sqflite_common_ffi</code> with SQLCipher libraries.</li> <li>Key Management: The encryption key is stored using <code>libsecret</code> (GNOME Keyring or equivalent).</li> </ul>"},{"location":"platforms/linux/#2-native-dependencies","title":"2. Native Dependencies","text":"<p>To build and run on Linux, the following system libraries are required: <pre><code>sudo apt-get install \\\n  libsecret-1-dev \\\n  libjsoncpp-dev \\\n  libsqlite3-dev \\\n  libsqlcipher-dev \\\n  libssl-dev\n</code></pre></p>"},{"location":"platforms/linux/#development-build","title":"\ud83d\ude80 Development &amp; Build","text":""},{"location":"platforms/linux/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d linux\n</code></pre>"},{"location":"platforms/linux/#build-for-production","title":"Build for Production","text":"<pre><code>flutter build linux --release\n</code></pre>"},{"location":"platforms/linux/#requirements","title":"\ud83d\udccb Requirements","text":"<ul> <li>GTK: Version 3.0+</li> <li>CMAKE: Version 3.10+</li> </ul>"},{"location":"platforms/linux/#known-implementation-details","title":"\u26a0\ufe0f Known Implementation Details","text":"<ul> <li>App Directory: Data is stored in <code>~/.local/share/trueledger/</code> by default (via <code>path_provider</code>).</li> <li>Encryption Fallback: If <code>sqlcipher</code> is not found during compilation, the app may fall back to standard SQLite (a warning is printed in debug mode).</li> </ul>"},{"location":"platforms/macos/","title":"macOS Platform","text":"<p>The macOS version of TrueLedger is a native AppKit application sharing the same core logic as mobile and desktop.</p>"},{"location":"platforms/macos/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":""},{"location":"platforms/macos/#1-persistence-encryption","title":"1. Persistence &amp; Encryption","text":"<ul> <li>Database: Uses <code>sqflite_common_ffi</code> with SQLCipher.</li> <li>Key Management: Encryption keys are managed via the macOS Keychain.</li> </ul>"},{"location":"platforms/macos/#2-dependencies","title":"2. Dependencies","text":"<ul> <li>Homebrew: It is recommended to have <code>sqlcipher</code> installed via brew for local development. <pre><code>brew install sqlcipher\n</code></pre></li> </ul>"},{"location":"platforms/macos/#development-build","title":"\ud83d\ude80 Development &amp; Build","text":""},{"location":"platforms/macos/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d macos\n</code></pre>"},{"location":"platforms/macos/#build-for-production","title":"Build for Production","text":"<pre><code>flutter build macos --release\n</code></pre>"},{"location":"platforms/macos/#requirements","title":"\ud83d\udccb Requirements","text":"<ul> <li>macOS Version: 10.14+</li> <li>Xcode: 14.0+</li> </ul>"},{"location":"platforms/macos/#known-implementation-details","title":"\u26a0\ufe0f Known Implementation Details","text":"<ul> <li>Sandboxing: The app uses the macOS Sandbox. Ensure the <code>network.client</code> and <code>file.read/write</code> entitlements are enabled if you plan to use auto-backups to external folders.</li> <li>Icon: High-resolution (1024x1024) icons are bundled in the <code>.app</code> bundle.</li> </ul>"},{"location":"platforms/web/","title":"Web Platform","text":"<p>TrueLedger provides a premium, responsive web experience that mirrors the native desktop and mobile applications.</p>"},{"location":"platforms/web/#live-demo","title":"\ud83d\ude80 Live Demo","text":"<p>You can try the live version of TrueLedger at: https://trueledger.satyakommula.com</p>"},{"location":"platforms/web/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":"<p>The web platform is built with Flutter and uses several modern web technologies to ensure a \"local-first\" experience.</p>"},{"location":"platforms/web/#1-database-persistence","title":"1. Database &amp; Persistence","text":"<p>Unlike many web apps that rely on cloud storage, TrueLedger Web uses SQLite WASM for data storage. - Engine: <code>sqlite3.wasm</code> is used to run the full SQLite engine inside the browser. - Persistence: Data is persisted in the browser's IndexedDB using <code>sqflite_common_ffi_web</code>. - Encryption: While the native apps use SQLCipher, the web version currently focuses on local-only unencrypted storage (browser security model).</p>"},{"location":"platforms/web/#2-url-strategy","title":"2. URL Strategy","text":"<p>TrueLedger uses the Path URL Strategy, meaning URLs look like standard website paths: - <code>trueledger.com/dashboard</code> instead of <code>trueledger.com/#/dashboard</code>. - This requires the server to be configured to redirect all paths to <code>index.html</code>.</p>"},{"location":"platforms/web/#3-file-exportsimports","title":"3. File Exports/Imports","text":"<p>Since browsers do not have direct file system access: - Exports: Data exports (CSV, JSON backups) are generated in-memory and triggered as browser downloads. - Imports: File imports use the browser's file picker API (<code>file_picker</code>) to read file bytes into the application state.</p>"},{"location":"platforms/web/#local-development","title":"\ud83d\udcbb Local Development","text":"<p>To run or build the web version locally:</p>"},{"location":"platforms/web/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d chrome\n</code></pre>"},{"location":"platforms/web/#build-for-production","title":"Build for Production","text":"<pre><code>flutter build web --release\n</code></pre>"},{"location":"platforms/web/#deployment","title":"\ud83c\udfd7\ufe0f Deployment","text":"<p>To deploy the web version (e.g., to GitHub Pages or a custom VPS):</p> <ol> <li>Build: Run the release build command above.</li> <li>Upload: Upload the contents of <code>build/web/</code> to your hosting provider.</li> <li>SPA Configuration: Ensure your server is configured for Single Page Applications (SPA). For example, if using Nginx:    <pre><code>location / {\n    try_files $uri $uri/ /index.html;\n}\n</code></pre></li> </ol>"},{"location":"platforms/web/#known-limitations","title":"\u26a0\ufe0f Known Limitations","text":"<ul> <li>No Native Notifications: Browser-based notifications are not yet implemented (standard notifications are skipped).</li> <li>No Native Secure Storage: The web version uses local storage and IndexedDB, which are subject to regular browser security rules and can be cleared if the user wipes their browser data.</li> <li>Auto-Backup: Native file-system-based auto-backups are disabled on the web. Users are encouraged to manually export backups for data safety.</li> </ul>"},{"location":"platforms/windows/","title":"Windows Platform","text":"<p>TrueLedger for Windows is a native Win32 application optimized for the Windows 10/11 ecosystem.</p>"},{"location":"platforms/windows/#technical-implementation","title":"\ud83d\udee0\ufe0f Technical Implementation","text":""},{"location":"platforms/windows/#1-persistence-encryption","title":"1. Persistence &amp; Encryption","text":"<ul> <li>Database: Uses <code>sqflite_common_ffi</code> with SQLCipher.</li> <li>Key Management: Encryption keys are stored using the Data Protection API (DPAPI) via <code>flutter_secure_storage</code>.</li> </ul>"},{"location":"platforms/windows/#2-dependencies","title":"2. Dependencies","text":"<ul> <li>Visual Studio: 2022 with \"Desktop development with C++\" workload.</li> <li>MSIX: Packaging for Windows Store is supported via the <code>msix</code> package.</li> </ul>"},{"location":"platforms/windows/#development-build","title":"\ud83d\ude80 Development &amp; Build","text":""},{"location":"platforms/windows/#run-in-debug-mode","title":"Run in Debug Mode","text":"<pre><code>flutter run -d windows\n</code></pre>"},{"location":"platforms/windows/#build-for-production-msix","title":"Build for Production (MSIX)","text":"<pre><code>flutter build windows --release\nflutter pub run msix:create\n</code></pre>"},{"location":"platforms/windows/#requirements","title":"\ud83d\udccb Requirements","text":"<ul> <li>OS: Windows 10 or later (versions prior to 10 are not officially supported).</li> </ul>"},{"location":"platforms/windows/#known-implementation-details","title":"\u26a0\ufe0f Known Implementation Details","text":"<ul> <li>Installation Directory: For encryption to work reliably, ensure the application is installed in a directory where it has read/write access to its internal storage (usually handled by <code>path_provider</code>).</li> <li>Dependencies: The <code>sqlcipher.dll</code> must be present in the same directory as the executable for encryption support.</li> </ul>"}]}